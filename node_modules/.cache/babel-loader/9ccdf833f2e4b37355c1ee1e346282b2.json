{"ast":null,"code":"import _objectSpread from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import SelectBox from'../components/Select';import Modal from\"react-bootstrap/Modal\";import{useHistory}from\"react-router-dom\";import{ListContainer,ListItem}from\"../components/styles\";import{DragDropContext,Droppable,Draggable}from\"react-beautiful-dnd\";import{DragHandle}from\"../components/DragHandle\";import List from\"./data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Table=function Table(props){var s_id=localStorage.getItem('tr_id');var _useState=useState([{competition:\"\"}]),_useState2=_slicedToArray(_useState,2),inputListFinal=_useState2[0],setInputListFinal=_useState2[1];var _useState3=useState([{competition:\"\"}]),_useState4=_slicedToArray(_useState3,2),inputList=_useState4[0],setInputList=_useState4[1];var _useState5=useState([{}]),_useState6=_slicedToArray(_useState5,2),inputListFinal2=_useState6[0],setInputListFinal2=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),Upid=_useState8[0],setUpid=_useState8[1];var _useState9=useState([{}]),_useState10=_slicedToArray(_useState9,2),customerList=_useState10[0],setCustomerList=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),Madd=_useState12[0],setMadd=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),Mupdate=_useState14[0],setMupdate=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),Mdelete=_useState16[0],setMdelete=_useState16[1];var history=useHistory();// let formData = props.AllData;\n// console.log(\"All Table Data\", formData)\nvar rows=[];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),allOptions=_useState18[0],setallOptions=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),holdValue=_useState20[0],setholdValue=_useState20[1];// let [completeData, setcompleteData] = useState('')\nvar _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),completeData=_useState22[0],setcompleteData=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),smShow=_useState24[0],setSmShow=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),total=_useState26[0],settotal=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),DrpValues=_useState28[0],setDrpValues=_useState28[1];useEffect(function(){if(!s_id){history.push(\"Not_support\");}GetData();},[]);var GetData=function GetData(){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var requestOptionsget={method:\"GET\",headers:myHeaders,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/customerTab2/\".concat(s_id),requestOptionsget).then(function(response){return response.json();}).then(function(resData){console.log(resData.data);// setcompleteData(resData.data);\nif(resData.status==200){console.log(\"Data Added succesfully\");}setcompleteData(resData.data);console.log(resData.data.length);console.log(completeData.length);console.log(\"---resDAta--->\",resData.data[0]);var MyValues1=resData.data;var MyValues=resData.data;if(MyValues.length>0){// setedituser(true);\nsetUpid(resData.data[0].id);}console.log(\"Edit Values\",MyValues);MyValues.map(function(item,key){console.log(\"before Eval\",item.features);var Feature=eval(item.features);var Feature2=eval(item.features2);console.log(\"SDfjdskjfn jsdhfkjsdfn\",Feature);console.log(\"SDfjdskjfn jsdhfkjsdfn22\",Feature2);setCustomerList(Feature);setInputList(Feature);setInputListFinal(Feature);setInputListFinal2(Feature2);});console.log(\"Edit Values\",MyValues1);}).catch(function(error){return console.log(\"error\",error);});};var updateJson=function updateJson(featureJson){console.log(featureJson);var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:inputListFinal,email_id:s_id,created_by:s_id});var requestOptions={method:\"PUT\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/customerTab2/\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);GetData();if(resData.status==200){// console.log(\"Values Submitted Succesfully==>\");\n// setMupdate(true);\n// setTimeout(() => {\n//   setMupdate(false);\n// }, 1000)\n// props.OnValidate1(true)\nGetData();}GetData();}).catch(function(error){return console.log(\"error\",error);});};// handle input change\nvar handleInputChange=function handleInputChange(e,index){console.log(e.target.id);console.log(e.target.name);console.log(e.target.value);// console.log(e.target.ips)\n// console.log(index)\n// if (e.target.value > 9) {\n//   setShowHideErr(false)\n// } else {\n//   setShowHideErr(true);\n//   // alert(Show)\n// }\nvar _e$target=e.target,name=_e$target.name,value=_e$target.value,ips=_e$target.ips;var list=_toConsumableArray(inputListFinal);console.log(\"Here is the Value---1>\",list);list[index][name]=value;list[index][\"is_display\"]=0;console.log(list[index][name]);console.log(value+\"val\");setInputListFinal(list);// setcompleteData(list);\n};var onChange=function onChange(i,newInputValue,value){// holdValue.push({ \"options\": newInputValue, \"id\": value })\n// console.log(\"Pushed data\", holdValue)\nconsole.log(\"newInputValue\",newInputValue);console.log(\"newInputValue\",i);console.log(\"newInputValue\",value);// setallOptions(holdValue)\n// const { name, value, ips } = e.target;\n// const list = [...inputListFinal];\n// console.log(\"Here is the Value---1>\", list);\n// list[index][name] = value;\n// list[index][\"is_display\"] = 0;\n// console.log(list[index][name]);\n// console.log(value + \"val\");\n// setInputListFinal(list);\n};var handleRemoveClick=function handleRemoveClick(index){var list=_toConsumableArray(inputListFinal);setInputListFinal(list);list.splice(index,1);};var handleAddClick=function handleAddClick(){var value=[];var key=[];value.push('competition');for(var i=1;i<=total;i++){value.push(\"value\".concat(i));}for(var _i=1;_i<=total;_i++){key.push([\"\".concat(_i)]);}var pack=function pack(arr){var length=arr.length,result={},i;for(i=0;i<length;i++){result[(i<10?'0':'')+(i+1)]=arr[i];}return result;};var finalobject=pack(value);//{01: \"one\", 02: \"two\", 03: \"three\"}      \nconsole.log(\"object is\",finalobject);setInputListFinal([].concat(_toConsumableArray(inputListFinal),[finalobject]));console.log(inputList);};var OnSubmitHandle=function OnSubmitHandle(){for(var i=0;i<inputListFinal.length;i++){if(inputListFinal[i].value0==\"\"||!inputListFinal[i].value0){// seterrorshow(true);\nreturn false;}}setCustomerList(_toConsumableArray(customerList),inputList);var competition=[];var Values=[];// allObject.push(inputList);\ninputList.map(function(comp,key){competition.push(comp);});customerList.map(function(item,key){if(Object.keys(item).length===3){Values.push(item);for(var key in item){console.log(\"Key Value is\",item);console.log(\"Key Value is\",item[key]);console.log(\"Key Value is\",allObject);}}});var allObject=[].concat(competition,Values);console.log(\"all datra\",allObject);console.log(\"all data inputlist\",inputListFinal);console.log(\"all data inputlist2\",inputListFinal2);if(completeData.length===0){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:inputListFinal,email_id:s_id,created_by:s_id});var requestOptions={method:\"POST\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/customerTab2\",requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);props.OnValidate1(true);if(resData.status==200){console.log(\"Values Submitted Succesfully==>\");// setMadd(true);\n// setMadd(false);\n// setTimeout(() => {\n//   setMadd(false);\n// }, 1000)\nprops.OnValidateTab2(true);//             props.OnValidate1(true)\n}}).catch(function(error){return console.log(\"error\",error);});}else{var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:inputListFinal,email_id:s_id,created_by:s_id});var requestOptions={method:\"PUT\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/customerTab2/\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);if(resData.status==200){// console.log(\"Values Submitted Succesfully==>\");\n// setMupdate(true);\n// setTimeout(() => {\n//   setMupdate(false);\n// }, 1000)\n// props.OnValidate1(true)\nprops.OnValidateTab2(true);// GetallRecords();\n}}).catch(function(error){return console.log(\"error\",error);});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Mupdate,onHide:function onHide(){return setMupdate(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Update Successful\"})}),/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Mdelete,onHide:function onHide(){return setMdelete(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Row Deleted Successfully\"})}),/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Madd,onHide:function onHide(){return setMadd(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Saved Successful\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row clearfix\",style:{backgroundColor:\"#F3F6F9\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-md-12 col-sm-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 mt-2\",children:[console.log(completeData.length),completeData?/*#__PURE__*/_jsxs(\"div\",{className:\"body p-5\",style:{overflowX:\"scroll\"},children:[/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:function onDragEnd(param){var _param$destination;var srcI=param.source.index;var desI=(_param$destination=param.destination)===null||_param$destination===void 0?void 0:_param$destination.index;// const srcIArray = srcI.split(\"o\");\n// const desIIArray = desI.split(\"o\");\n// console.log(srcIArray)\n// console.log(desIIArray)\n// console.log(desI)\nif(desI){inputListFinal.splice(desI,0,inputListFinal.splice(srcI,1)[0]);List.saveList(inputListFinal);console.log(inputListFinal);updateJson(inputListFinal);}},children:/*#__PURE__*/_jsxs(ListContainer,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:20}}),/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Questions appearing in mind Journey\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title text-center ml-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Question appearing in Mind of\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title text-center ml-5\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Who Gives the answer\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title text-center ml-4\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Possible Answer\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title text-center ml-4\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Choice Made\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title text-center ml-5\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Point to be Considered\"})})})]}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"droppable-1\",children:function children(provided,_){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({ref:provided.innerRef},provided.droppableProps),{},{children:[inputListFinal.map(function(x,i){console.log(\"The competion sheet\",x);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Draggable,{draggableId:\"draggable-\"+i,index:i// recId={x.id}\n,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(ListItem,_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),{},{style:_objectSpread(_objectSpread({},provided.draggableProps.style),{},{boxShadow:snapshot.isDragging?\"0 0 .4rem #666\":\"none\"}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix flex-nowrap\",children:[/*#__PURE__*/_jsx(DragHandle,_objectSpread(_objectSpread({},provided.dragHandleProps),{},{className:\"mr-2\"})),Array.from({length:5},function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"0\",maxLength:200,max:200,name:\"value\".concat(index),value:x[\"value\".concat(index)],onChange:function onChange(e){return handleInputChange(e,i);},required:true,disabled:true})})})});}),Array.from({length:1},function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row clearfix flex-nowrap\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"tag\".concat(index),id:x[\"\".concat(index)],value:x[\"tag\".concat(index)],onChange:function onChange(e){return handleInputChange(e,i);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Undefined\",children:\"Undefined\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Current Process Improvement\",children:\"Current Process Improvement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Innovation\",children:\"Innovation\"})]})})})})});})]})}));}},x.id)});}),provided.placeholder]}));}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn finalizebtn btn-square waves-effect\",onClick:OnSubmitHandle,children:\"FINALIZE CMM\"})]}):null]})})})]});};export default Table;","map":{"version":3,"sources":["/home/shubham/Projects/Transgazination_Project/TG_UI/src/pages/Parivartan03/tab2table.js"],"names":["React","useEffect","useState","SelectBox","Modal","useHistory","ListContainer","ListItem","DragDropContext","Droppable","Draggable","DragHandle","List","Table","props","s_id","localStorage","getItem","competition","inputListFinal","setInputListFinal","inputList","setInputList","inputListFinal2","setInputListFinal2","Upid","setUpid","customerList","setCustomerList","Madd","setMadd","Mupdate","setMupdate","Mdelete","setMdelete","history","rows","allOptions","setallOptions","holdValue","setholdValue","completeData","setcompleteData","smShow","setSmShow","total","settotal","DrpValues","setDrpValues","push","GetData","myHeaders","Headers","append","requestOptionsget","method","headers","redirect","fetch","then","response","json","resData","console","log","data","status","length","MyValues1","MyValues","id","map","item","key","features","Feature","eval","Feature2","features2","catch","error","updateJson","featureJson","raw","JSON","stringify","email_id","created_by","requestOptions","body","handleInputChange","e","index","target","name","value","ips","list","onChange","i","newInputValue","handleRemoveClick","splice","handleAddClick","pack","arr","result","finalobject","OnSubmitHandle","value0","Values","comp","Object","keys","allObject","OnValidate1","OnValidateTab2","backgroundColor","overflowX","param","srcI","source","desI","destination","saveList","marginTop","provided","_","innerRef","droppableProps","x","snapshot","draggableProps","style","boxShadow","isDragging","dragHandleProps","Array","from","placeholder"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport SelectBox from '../components/Select'\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ListContainer, ListItem } from \"../components/styles\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { DragHandle } from \"../components/DragHandle\";\r\nimport List from \"./data\";\r\n\r\nconst Table = props => {\r\n    var s_id = localStorage.getItem('tr_id')\r\n    const [inputListFinal, setInputListFinal] = useState([{ competition: \"\" }]);\r\n    const [inputList, setInputList] = useState([{ competition: \"\" }]);\r\n    const [inputListFinal2, setInputListFinal2] = useState([{}]);\r\n    const [Upid, setUpid] = useState(\"\");\r\n    const [customerList, setCustomerList] = useState([{}]);\r\n    const [Madd, setMadd] = useState(false);\r\n    const [Mupdate, setMupdate] = useState(false);\r\n    const [Mdelete, setMdelete] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    // let formData = props.AllData;\r\n    // console.log(\"All Table Data\", formData)\r\n    let rows = [];\r\n    const [allOptions, setallOptions] = useState([]);\r\n    const [holdValue, setholdValue] = useState([]);\r\n    // let [completeData, setcompleteData] = useState('')\r\n    const [completeData, setcompleteData] = useState('')\r\n    const [smShow, setSmShow] = useState(false);\r\n    const [total, settotal] = useState(0);\r\n    let [DrpValues, setDrpValues] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (!s_id) {\r\n            history.push(\"Not_support\");\r\n        }\r\n\r\n        GetData();\r\n    }, []);\r\n\r\n    const GetData = () => {\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var requestOptionsget = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: \"follow\",\r\n        };\r\n        fetch(`https://parivartan.transganization.com/nodejs/masters/customerTab2/${s_id}`, requestOptionsget)\r\n            .then((response) => response.json())\r\n            .then((resData) => {\r\n                console.log(resData.data);\r\n                // setcompleteData(resData.data);\r\n                if (resData.status == 200) {\r\n                    console.log(\"Data Added succesfully\")\r\n                }\r\n\r\n                setcompleteData(resData.data);\r\n                console.log(resData.data.length);\r\n                console.log(completeData.length);\r\n\r\n                console.log(\"---resDAta--->\", resData.data[0]);\r\n                let MyValues1 = resData.data;\r\n\r\n                let MyValues = resData.data;\r\n                if (MyValues.length > 0) {\r\n                    // setedituser(true);\r\n                    setUpid(resData.data[0].id);\r\n\r\n                }\r\n                console.log(\"Edit Values\", MyValues);\r\n\r\n                MyValues.map((item, key) => {\r\n                    console.log(\"before Eval\", item.features);\r\n                    let Feature = eval(item.features);\r\n                    let Feature2 = eval(item.features2);\r\n\r\n                    console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature);\r\n                    console.log(\"SDfjdskjfn jsdhfkjsdfn22\", Feature2);\r\n\r\n                    setCustomerList(Feature);\r\n                    setInputList(Feature);\r\n                    setInputListFinal(Feature)\r\n                    setInputListFinal2(Feature2)\r\n\r\n                });\r\n\r\n                console.log(\"Edit Values\", MyValues1);\r\n            })\r\n            .catch((error) => console.log(\"error\", error))\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    const updateJson = (featureJson) => {\r\n        console.log(featureJson)\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var raw = JSON.stringify({\r\n            features: inputListFinal,\r\n            email_id: s_id,\r\n            created_by: s_id,\r\n        });\r\n        var requestOptions = {\r\n            method: \"PUT\",\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: \"follow\",\r\n        };\r\n        fetch(\r\n            `https://parivartan.transganization.com/nodejs/masters/customerTab2/${s_id}`,\r\n            requestOptions\r\n        )\r\n            .then((response) => response.json())\r\n            .then((resData) => {\r\n                console.log(resData);\r\n                GetData();\r\n\r\n                if (resData.status == 200) {\r\n                    // console.log(\"Values Submitted Succesfully==>\");\r\n                    // setMupdate(true);\r\n                    // setTimeout(() => {\r\n                    //   setMupdate(false);\r\n                    // }, 1000)\r\n                    // props.OnValidate1(true)\r\n\r\n\r\n                    GetData();\r\n\r\n                }\r\n                GetData();\r\n\r\n            })\r\n            .catch((error) => console.log(\"error\", error));\r\n    }\r\n\r\n\r\n    // handle input change\r\n    const handleInputChange = (e, index) => {\r\n        console.log(e.target.id)\r\n        console.log(e.target.name)\r\n        console.log(e.target.value)\r\n        // console.log(e.target.ips)\r\n\r\n        // console.log(index)\r\n\r\n        // if (e.target.value > 9) {\r\n        //   setShowHideErr(false)\r\n        // } else {\r\n        //   setShowHideErr(true);\r\n        //   // alert(Show)\r\n        // }\r\n\r\n        const { name, value, ips } = e.target;\r\n        const list = [...inputListFinal];\r\n        console.log(\"Here is the Value---1>\", list);\r\n        list[index][name] = value;\r\n        list[index][\"is_display\"] = 0;\r\n\r\n        console.log(list[index][name]);\r\n        console.log(value + \"val\");\r\n\r\n\r\n        setInputListFinal(list);\r\n        // setcompleteData(list);\r\n\r\n    };\r\n\r\n    const onChange = (i, newInputValue, value) => {\r\n        // holdValue.push({ \"options\": newInputValue, \"id\": value })\r\n        // console.log(\"Pushed data\", holdValue)\r\n        console.log(\"newInputValue\", newInputValue)\r\n        console.log(\"newInputValue\", i)\r\n        console.log(\"newInputValue\", value)\r\n\r\n        // setallOptions(holdValue)\r\n\r\n        // const { name, value, ips } = e.target;\r\n        // const list = [...inputListFinal];\r\n        // console.log(\"Here is the Value---1>\", list);\r\n        // list[index][name] = value;\r\n        // list[index][\"is_display\"] = 0;\r\n\r\n        // console.log(list[index][name]);\r\n        // console.log(value + \"val\");\r\n\r\n\r\n        // setInputListFinal(list);\r\n\r\n    }\r\n\r\n    const handleRemoveClick = (index) => {\r\n        const list = [...inputListFinal];\r\n        setInputListFinal(list);\r\n        list.splice(index, 1);\r\n    };\r\n\r\n    const handleAddClick = () => {\r\n        let value = [];\r\n        let key = [];\r\n        value.push('competition');\r\n        for (let i = 1; i <= total; i++) {\r\n            value.push(`value${i}`)\r\n        }\r\n        for (let i = 1; i <= total; i++) {\r\n            key.push([`${i}`])\r\n        }\r\n        var pack = function (arr) {\r\n            var length = arr.length,\r\n                result = {},\r\n                i;\r\n            for (i = 0; i < length; i++) {\r\n                result[(i < 10 ? '0' : '') + (i + 1)] = arr[i];\r\n            }\r\n            return result;\r\n        };\r\n        const finalobject = pack(value); //{01: \"one\", 02: \"two\", 03: \"three\"}      \r\n        console.log(\"object is\", finalobject)\r\n        setInputListFinal([...inputListFinal, finalobject]);\r\n        console.log(inputList);\r\n    };\r\n\r\n    const OnSubmitHandle = () => {\r\n        for (var i = 0; i < inputListFinal.length; i++) {\r\n            if (inputListFinal[i].value0 == \"\" || !inputListFinal[i].value0) {\r\n                // seterrorshow(true);\r\n                return false;\r\n            }\r\n        }\r\n        setCustomerList([...customerList], inputList);\r\n        let competition = [];\r\n        let Values = [];\r\n        // allObject.push(inputList);\r\n        inputList.map((comp, key) => {\r\n            competition.push(comp);\r\n        });\r\n\r\n        customerList.map((item, key) => {\r\n            if (Object.keys(item).length === 3) {\r\n                Values.push(item);\r\n                for (var key in item) {\r\n                    console.log(\"Key Value is\", item);\r\n                    console.log(\"Key Value is\", item[key]);\r\n                    console.log(\"Key Value is\", allObject);\r\n                }\r\n            }\r\n        });\r\n\r\n        var allObject = [...competition, ...Values];\r\n        console.log(\"all datra\", allObject);\r\n        console.log(\"all data inputlist\", inputListFinal);\r\n        console.log(\"all data inputlist2\", inputListFinal2);\r\n\r\n        if (completeData.length === 0) {\r\n            var myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            var raw = JSON.stringify({\r\n                features: inputListFinal,\r\n                email_id: s_id,\r\n                created_by: s_id,\r\n            });\r\n            var requestOptions = {\r\n                method: \"POST\",\r\n                headers: myHeaders,\r\n                body: raw,\r\n                redirect: \"follow\",\r\n            };\r\n            fetch(\r\n                `https://parivartan.transganization.com/nodejs/masters/customerTab2`,\r\n                requestOptions\r\n            )\r\n                .then((response) => response.json())\r\n                .then((resData) => {\r\n                    console.log(resData);\r\n                    props.OnValidate1(true)\r\n\r\n\r\n                    if (resData.status == 200) {\r\n                        console.log(\"Values Submitted Succesfully==>\");\r\n                        // setMadd(true);\r\n                        // setMadd(false);\r\n                        // setTimeout(() => {\r\n                        //   setMadd(false);\r\n                        // }, 1000)\r\n                        props.OnValidateTab2(true);\r\n\r\n\r\n\r\n                        //             props.OnValidate1(true)\r\n\r\n                    }\r\n                })\r\n                .catch((error) => console.log(\"error\", error));\r\n        } else {\r\n            var myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            var raw = JSON.stringify({\r\n                features: inputListFinal,\r\n                email_id: s_id,\r\n                created_by: s_id,\r\n            });\r\n            var requestOptions = {\r\n                method: \"PUT\",\r\n                headers: myHeaders,\r\n                body: raw,\r\n                redirect: \"follow\",\r\n            };\r\n            fetch(\r\n                `https://parivartan.transganization.com/nodejs/masters/customerTab2/${s_id}`,\r\n                requestOptions\r\n            )\r\n                .then((response) => response.json())\r\n                .then((resData) => {\r\n                    console.log(resData);\r\n                    if (resData.status == 200) {\r\n                        // console.log(\"Values Submitted Succesfully==>\");\r\n                        // setMupdate(true);\r\n                        // setTimeout(() => {\r\n                        //   setMupdate(false);\r\n                        // }, 1000)\r\n                        // props.OnValidate1(true)\r\n                        props.OnValidateTab2(true);\r\n\r\n\r\n\r\n                        // GetallRecords();\r\n                    }\r\n                })\r\n                .catch((error) => console.log(\"error\", error));\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                size=\"sm\"\r\n                show={Mupdate}\r\n                onHide={() => setMupdate(false)}\r\n                aria-labelledby=\"example-modal-sizes-title-sm\"\r\n            >\r\n                <Modal.Body >Form Update Successful</Modal.Body>\r\n            </Modal>\r\n\r\n            <Modal\r\n                size=\"sm\"\r\n                show={Mdelete}\r\n                onHide={() => setMdelete(false)}\r\n                aria-labelledby=\"example-modal-sizes-title-sm\"\r\n            >\r\n                <Modal.Body >Form Row Deleted Successfully</Modal.Body>\r\n            </Modal>\r\n\r\n            <Modal\r\n                size=\"sm\"\r\n                show={Madd}\r\n                onHide={() => setMadd(false)}\r\n                aria-labelledby=\"example-modal-sizes-title-sm\"\r\n            >\r\n                <Modal.Body >Form Saved Successful</Modal.Body>\r\n            </Modal>\r\n\r\n            <div className=\"row clearfix\" style={{ backgroundColor: \"#F3F6F9\" }}>\r\n\r\n\r\n                <div className=\"col-lg-12 col-md-12 col-sm-12\">\r\n                    <div className=\"card p-4 mt-2\">\r\n                        {console.log(completeData.length)}\r\n\r\n                        {completeData ? (\r\n                            <div className=\"body p-5\" style={{ overflowX: \"scroll\" }}>\r\n                                <DragDropContext\r\n                                    onDragEnd={(param) => {\r\n                                        const srcI = param.source.index;\r\n                                        const desI = param.destination?.index;\r\n                                        // const srcIArray = srcI.split(\"o\");\r\n                                        // const desIIArray = desI.split(\"o\");\r\n                                        // console.log(srcIArray)\r\n                                        // console.log(desIIArray)\r\n                                        // console.log(desI)\r\n\r\n                                        if (desI) {\r\n                                            inputListFinal.splice(desI, 0, inputListFinal.splice(srcI, 1)[0]);\r\n                                            List.saveList(inputListFinal);\r\n                                            console.log(inputListFinal)\r\n                                            updateJson(inputListFinal);\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <ListContainer>\r\n\r\n                                        <div style={{ marginTop: 20 }}>\r\n                                        </div>\r\n                                        <div className=\"row clearfix ml-3\" >\r\n                                            <div className=\"col-md-2\">\r\n                                                <h2 className=\"card-inside-title text-center\">\r\n                                                    <strong>Questions appearing in mind Journey</strong>\r\n                                                </h2>\r\n                                            </div>\r\n                                            <div className=\"col-md-2\">\r\n                                                <h2 className=\"card-inside-title text-center ml-2\">\r\n                                                    <strong>Question appearing in Mind of</strong>\r\n                                                </h2>\r\n                                            </div>\r\n                                            <div className=\"col-md-2\">\r\n                                                <h2 className=\"card-inside-title text-center ml-5\">\r\n                                                    <strong>Who Gives the answer</strong>\r\n                                                </h2>\r\n                                            </div>\r\n                                            <div className=\"col-md-2\">\r\n                                                <h2 className=\"card-inside-title text-center ml-4\">\r\n                                                    <strong>Possible Answer</strong>\r\n                                                </h2>\r\n                                            </div>\r\n                                            <div className=\"col-md-2\">\r\n                                                <h2 className=\"card-inside-title text-center ml-4\">\r\n                                                    <strong>Choice Made</strong>\r\n                                                </h2>\r\n                                            </div>\r\n                                            <div className=\"col-md-2\">\r\n                                                <h2 className=\"card-inside-title text-center ml-5\">\r\n                                                    <strong>Point to be Considered</strong>\r\n                                                </h2>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                        <Droppable droppableId=\"droppable-1\">\r\n                                            {(provided, _) => (\r\n                                                <div ref={provided.innerRef} {...provided.droppableProps}>\r\n                                                    {inputListFinal.map((x, i) => {\r\n                                                        console.log(\"The competion sheet\", x)\r\n                                                        return (\r\n                                                            <>\r\n                                                                <Draggable\r\n                                                                    key={x.id}\r\n                                                                    draggableId={\"draggable-\" + i}\r\n                                                                    index={i}\r\n                                                                // recId={x.id}\r\n                                                                >\r\n                                                                    {(provided, snapshot) => (\r\n                                                                        <ListItem\r\n                                                                            ref={provided.innerRef}\r\n                                                                            {...provided.draggableProps}\r\n                                                                            style={{\r\n                                                                                ...provided.draggableProps.style,\r\n                                                                                boxShadow: snapshot.isDragging\r\n                                                                                    ? \"0 0 .4rem #666\"\r\n                                                                                    : \"none\",\r\n                                                                            }}\r\n                                                                        >\r\n\r\n\r\n                                                                            <div className=\"row clearfix flex-nowrap\">\r\n                                                                                <DragHandle {...provided.dragHandleProps} className=\"mr-2\" />\r\n\r\n                                                                                {Array.from({ length: 5 }, (item, index) => {\r\n                                                                                    return (\r\n                                                                                        <>\r\n                                                                                            <div className=\"col-md-2\">\r\n                                                                                                <div className=\"form-group\">\r\n                                                                                                    <input\r\n                                                                                                        type=\"text\"\r\n                                                                                                        className=\"form-control\"\r\n                                                                                                        placeholder=\"0\"\r\n                                                                                                        maxLength={200}\r\n                                                                                                        max={200}\r\n                                                                                                        name={`value${index}`}\r\n                                                                                                        value={x[`value${index}`]}\r\n                                                                                                        onChange={(e) => handleInputChange(e, i)}\r\n                                                                                                        required\r\n                                                                                                        disabled\r\n                                                                                                    />\r\n\r\n                                                                                                </div>\r\n                                                                                            </div>\r\n\r\n\r\n                                                                                        </>\r\n                                                                                    );\r\n                                                                                })}\r\n\r\n                                                                                {Array.from({ length: 1 }, (item, index) => {\r\n                                                                                    return (\r\n                                                                                        <>\r\n                                                                                            {/* {DrpValues.length > 0 ? ( */}\r\n                                                                                            <div className=\"col-lg-2\">\r\n                                                                                                <div className=\"form-group\">\r\n                                                                                                    <div className=\"row clearfix flex-nowrap\">\r\n                                                                                                        {/* <span>{x[`tag${index}`]}</span> */}\r\n                                                                                                        <select className=\"form-control\" name={`tag${index}`} id={x[`${index}`]} value={x[`tag${index}`]} onChange={(e) => handleInputChange(e, i)}>\r\n                                                                                                            {/* {DrpValues.map((item, key) => ( */}\r\n                                                                                                            {/* // console.log(item.vilakshan_journey) */}\r\n                                                                                                            <option value=\"\"></option>\r\n                                                                                                            <option value=\"Undefined\">Undefined</option>\r\n                                                                                                            <option value=\"Current Process Improvement\">Current Process Improvement</option>\r\n                                                                                                            <option value=\"Innovation\">Innovation</option>\r\n                                                                                                            {/* ))} */}\r\n                                                                                                        </select>\r\n                                                                                                    </div>\r\n                                                                                                </div>\r\n                                                                                            </div>\r\n                                                                                            {/* ) : (null)} */}\r\n                                                                                        </>\r\n                                                                                    );\r\n                                                                                })\r\n                                                                                }\r\n\r\n                                                                                {/* <div className=\"col-md-2\">\r\n                                                                            <div className=\"form-group\">\r\n                                                                                <SelectBox onChangeTag={onChange} keyValue={x.point_to_be_considered} keyid={x.id} />\r\n                                                                            </div>\r\n\r\n                                                                        </div> */}\r\n                                                                            </div>\r\n\r\n\r\n                                                                            {/* <div className=\"col-md-2\">\r\n                                                                            {completeData.length !== 1 && (\r\n                                                                                <button\r\n                                                                                    type=\"button\"\r\n                                                                                    className=\"btn btn-raised rembtn btn-square waves-effect m-l-40 \"\r\n                                                                                    onClick={() => handleRemoveClick(i)}\r\n                                                                                >\r\n                                                                                    <strong>REMOVE</strong>\r\n                                                                                </button>\r\n                                                                            )}\r\n                                                                            {completeData.length - 1 === i && (\r\n                                                                                <button\r\n                                                                                    type=\"button\"\r\n                                                                                    className=\"btn  addbtn btn-square waves-effect m-l-40 \"\r\n                                                                                    onClick={handleAddClick}\r\n                                                                                >\r\n                                                                                    <strong>ADD</strong>\r\n                                                                                </button>\r\n                                                                            )}\r\n                                                                        </div> */}\r\n\r\n                                                                        </ListItem>\r\n                                                                    )}\r\n                                                                </Draggable>\r\n\r\n                                                            </>\r\n                                                        );\r\n\r\n                                                    })}\r\n                                                    {provided.placeholder}\r\n\r\n                                                </div>\r\n                                            )}\r\n                                        </Droppable>\r\n\r\n\r\n                                    </ListContainer>\r\n\r\n                                </DragDropContext>\r\n\r\n\r\n\r\n                                <div style={{ marginTop: 30 }}></div>\r\n\r\n                                {/* <button type=\"submit\" class=\"btn savebtn  waves-effect\" onClick={OnSubmitHandle}>SAVE    <i className=\"ml-1 zmdi zmdi-save \" /> </button> */}\r\n                                {/* <button type=\"button\" class=\"btn savebtn waves-effect\"\r\n                                    onClick={OnSubmitHandle}>SAVE</button>\r\n                                {completeData.length > 0 ? (<button type=\"button\" class=\"btn viewbtn waves-effect m-r-20\" data-toggle=\"modal\" data-target=\"#largeModal\" onClick={() => props.OnValidateTab1(true)}>SUBMIT <i className=\"ml-1 zmdi zmdi-check \" /> </button>\r\n                                ) : null} */}\r\n                                <button type=\"button\" class=\"btn finalizebtn btn-square waves-effect\" onClick={OnSubmitHandle}>FINALIZE CMM</button>\r\n\r\n                            </div>\r\n                        ) : (null)}\r\n                    </div>\r\n                </div>\r\n            </div >\r\n\r\n        </>\r\n    )\r\n}\r\nexport default Table;"]},"metadata":{},"sourceType":"module"}