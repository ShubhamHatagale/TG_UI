{"ast":null,"code":"import _objectSpread from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{StickyTable,Row,Cell}from\"react-sticky-table\";import{useHistory}from\"react-router-dom\";import Modal from\"react-bootstrap/Modal\";import List from\"./data\";import{ListContainer,ListItem}from\"../components/styles\";import{DragDropContext,Droppable,Draggable}from\"react-beautiful-dnd\";import{DragHandle}from\"../components/DragHandle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Form(props){var list=List.getList();var history=useHistory();var s_id=localStorage.getItem('tr_id');var _useState=useState([{featues:\"\"}]),_useState2=_slicedToArray(_useState,2),inputListFeature=_useState2[0],setInputListFeature=_useState2[1];var _useState3=useState([{featues2:\"\"}]),_useState4=_slicedToArray(_useState3,2),inputListFeature2=_useState4[0],setInputListFeature2=_useState4[1];var _useState5=useState([{competition:\"\"}]),_useState6=_slicedToArray(_useState5,2),inputList=_useState6[0],setInputList=_useState6[1];var _useState7=useState([{competition:\"\"}]),_useState8=_slicedToArray(_useState7,2),inputListFinal=_useState8[0],setInputListFinal=_useState8[1];var _useState9=useState([{}]),_useState10=_slicedToArray(_useState9,2),inputListFinal2=_useState10[0],setInputListFinal2=_useState10[1];var _useState11=useState([{}]),_useState12=_slicedToArray(_useState11,2),customerList=_useState12[0],setCustomerList=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),allList=_useState14[0],setallList=_useState14[1];var _useState15=useState([{}]),_useState16=_slicedToArray(_useState15,2),EditList=_useState16[0],setEditList=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),edituser=_useState18[0],setedituser=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),PossibleCombination=_useState20[0],setPossibleCombination=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),total=_useState22[0],settotal=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),holdValue=_useState24[0],setholdValue=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),org_name=_useState26[0],setorg_name=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),completeData=_useState28[0],setcompleteData=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),Upid=_useState30[0],setUpid=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),ShowHideErr=_useState32[0],setShowHideErr=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),Madd=_useState34[0],setMadd=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),Mupdate=_useState36[0],setMupdate=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),errorshow=_useState38[0],seterrorshow=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),DrpValues=_useState40[0],setDrpValues=_useState40[1];var no=holdValue.length;var inputs=[];useEffect(function(){GetallRecords();},[]);var GetallRecords=function GetallRecords(){// alert(\"ok\")\nif(!s_id){history.push(\"Not_support\");}setShowHideErr(false);var myGetHeaders=new Headers();myGetHeaders.append(\"Content-Type\",\"application/json\");var requestOptions={method:\"GET\",headers:myGetHeaders,redirect:\"follow\"};// fetch(`https://parivartan.transganization.com/nodejs/masters/valueprop/` + `${1}`, requestOptions)\nfetch(\"https://parivartan.transganization.com/nodejs/masters/valueprop/user/\"+\"\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){var MyValues=resData.data;console.log(\"In UseEffect Function\",MyValues);var data;MyValues.map(function(item,key){var Feature=eval(item.features);var Feature2=eval(item.features2);settotal(Feature.length);Feature.map(function(item,key){// data.push([{competition:\"\", [`value${key}`]:\"\"}])\nholdValue.push({});console.log(\"Pushed data\",holdValue);});// setInputList(data)\nsetCustomerList(holdValue);console.log(\"Dataa to get map\",Feature);console.log(\"Dataa to get map2\",Feature2);setPossibleCombination(item.possible_combination);setInputListFeature(Feature);setInputListFeature2(Feature2);// props.OnValidateTab1(true);\n});});fetch(\"https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/user/\"+\"\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){setcompleteData(resData.data);console.log(\"---resDAta--->\",resData.data[0]);var MyValues1=resData.data;var MyValues=resData.data;if(MyValues.length>0){setedituser(true);setUpid(resData.data[0].id);}console.log(\"Edit Values\",MyValues);MyValues.map(function(item,key){console.log(\"before Eval\",item.features);var Feature=eval(item.features);var Feature2=eval(item.features2);console.log(\"SDfjdskjfn jsdhfkjsdfn\",Feature);console.log(\"SDfjdskjfn jsdhfkjsdfn22\",Feature2);setCustomerList(Feature);setInputList(Feature);setInputListFinal(Feature);setInputListFinal2(Feature2);});console.log(\"Edit Values\",MyValues1);// MyValues1.map((i, key) => {\n//   console.log(\"before Eval\", i.features);\n//   let Feature2 = eval(i.features);\n//   console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature2);\n//   setCustomerList(Feature);\n//   setInputList(Feature);\n//   setInputListFinal(Feature)\n//   setInputListFinal2(Feature2)\n// });\n});fetch(\"https://parivartan.transganization.com/nodejs/masters/customerSegment/user/\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){// setcompleteData(resData.data)\nconsole.log(\"In Beliver Get all Reccords Function\",resData.data.length);if(resData.data.length>0){setorg_name(resData.data[0].org_name);console.log(resData.data);var MyValues=resData.data;console.log(\"In UseEffect Function\",MyValues);// MyValues.map((item, key) => {\n//   let customerFaceMap = eval(item.customer_face);\n//   console.log(\"Data customerFaceMap \", customerFaceMap);\n//   setcustomerSegmentData(customerFaceMap)\n//   setInputList(customerFaceMap);\n// });\n}// setShowHideErrData(true)\n});fetch(\"https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab1/user/\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData.data);setDrpValues(resData.data[0].features);if(resData.status==200){console.log(\"Data Added succesfully\");}}).catch(function(error){return console.log(\"error\",error);});console.log(completeData,\"reso\");console.log(DrpValues,\"DrpValues\");};// handle input change\nvar handleInputChange=function handleInputChange(e,index){// console.log(e.target.id)\n// console.log(index)\nif(e.target.value>9){setShowHideErr(false);}else{setShowHideErr(true);// alert(Show)\n}var _e$target=e.target,name=_e$target.name,value=_e$target.value,ips=_e$target.ips;var list=_toConsumableArray(inputListFinal);console.log(\"Here is the Value---1>\",list);list[index][name]=value;list[index][\"is_display\"]=0;console.log(list[index][name]);console.log(value+\"val\");setInputListFinal(list);};var handleInputChange2=function handleInputChange2(e,index){if(e.target.value>9){setShowHideErr(false);}else{setShowHideErr(true);// alert(Show)\n}var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;var list2=_toConsumableArray(inputListFinal2);console.log(\"Here is the Value2\",list2);list2[0][name]=value;setInputListFinal2(list2);};var handleRemoveClick=function handleRemoveClick(index){var list=_toConsumableArray(inputListFinal);setInputListFinal(list);list.splice(index,1);};var handleAddClick=function handleAddClick(){var value=[];var key=[];value.push('competition');for(var i=1;i<=total;i++){value.push(\"value\".concat(i));}for(var _i=1;_i<=total;_i++){key.push([\"\".concat(_i)]);}var pack=function pack(arr){var length=arr.length,result={},i;for(i=0;i<length;i++){result[(i<10?'0':'')+(i+1)]=arr[i];}return result;};var finalobject=pack(value);//{01: \"one\", 02: \"two\", 03: \"three\"}      \nconsole.log(\"object is\",finalobject);setInputListFinal([].concat(_toConsumableArray(inputListFinal),[finalobject]));console.log(inputList);};var updateJson=function updateJson(featureJson){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:featureJson,email_id:s_id,created_by:s_id});var requestOptions={method:\"PUT\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);GetallRecords();if(resData.status==200){// console.log(\"Values Submitted Succesfully==>\");\n// setMupdate(true);\n// setTimeout(() => {\n//   setMupdate(false);\n// }, 1000)\n// props.OnValidate1(true)\nGetallRecords();}GetallRecords();}).catch(function(error){return console.log(\"error\",error);});};var OnSubmitHandle=function OnSubmitHandle(){for(var i=0;i<inputListFinal.length;i++){if(inputListFinal[i].value0==\"\"||!inputListFinal[i].value0){seterrorshow(true);return false;}}setCustomerList(_toConsumableArray(customerList),inputList);var competition=[];var Values=[];// allObject.push(inputList);\ninputList.map(function(comp,key){competition.push(comp);});customerList.map(function(item,key){if(Object.keys(item).length===3){Values.push(item);for(var key in item){console.log(\"Key Value is\",item);console.log(\"Key Value is\",item[key]);console.log(\"Key Value is\",allObject);}}});var allObject=[].concat(competition,Values);console.log(\"all datra\",allObject);console.log(\"all data inputlist\",inputListFinal);console.log(\"all data inputlist2\",inputListFinal2);if(completeData.length===0){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:inputListFinal,email_id:s_id,created_by:s_id});var requestOptions={method:\"POST\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/\",requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);// props.OnValidate1(true)\nif(resData.status==200){console.log(\"Values Submitted Succesfully==>\");setMadd(true);setTimeout(function(){setMadd(false);},1000);// props.OnValidate1(true)\nGetallRecords();//             props.OnValidate1(true)\n}}).catch(function(error){return console.log(\"error\",error);});}else{var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:inputListFinal,email_id:s_id,created_by:s_id});var requestOptions={method:\"PUT\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);if(resData.status==200){console.log(\"Values Submitted Succesfully==>\");setMupdate(true);setTimeout(function(){setMupdate(false);},1000);// props.OnValidate1(true)\nGetallRecords();}}).catch(function(error){return console.log(\"error\",error);});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Madd,onHide:function onHide(){return setMadd(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Saved Successful\"})}),/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Mupdate,onHide:function onHide(){return setMupdate(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Update Successful\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row clearfix \",style:_defineProperty({backgroundColor:\"white\",width:\"80rem\"},\"backgroundColor\",\"#F3F6F9\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-md-12 col-sm-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",width:\"80rem\",overflowX:\"auto\"},children:[console.log(inputListFinal[0].value0),inputListFeature&&inputListFinal?/*#__PURE__*/_jsxs(\"div\",{className:\"body p-5\",children:[errorshow==true?/*#__PURE__*/_jsx(\"div\",{style:{margin:\"10px\",marginLeft:\"30px\",text:\"red\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"Please fill the parent process name\"})}):null,/*#__PURE__*/_jsx(\"div\",{style:{marginTop:20}}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:function onDragEnd(param){var _param$destination;var srcI=param.source.index;var desI=(_param$destination=param.destination)===null||_param$destination===void 0?void 0:_param$destination.index;if(desI){inputListFinal.splice(desI,0,inputListFinal.splice(srcI,1)[0]);List.saveList(inputListFinal);console.log(inputListFinal);GetallRecords();updateJson(inputListFinal);}},children:/*#__PURE__*/_jsxs(ListContainer,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix flex-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Select Vilakshan Journey\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Parent Process Name\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Parent Process Input\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Parent Process Output\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Parent Process Owner\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Strategic Support Process\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Strategic Support Input\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Strategic Support Output\"})})})]}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"droppable-1\",children:function children(provided,_){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({ref:provided.innerRef},provided.droppableProps),{},{children:[inputListFinal.map(function(x,i){console.log(\"The competion sheet\",x);return/*#__PURE__*/_jsx(Draggable,{draggableId:\"draggable-\"+i,index:i,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(ListItem,_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),{},{style:_objectSpread(_objectSpread({},provided.draggableProps.style),{},{boxShadow:snapshot.isDragging?\"0 0 .4rem #666\":\"none\"}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix flex-nowrap\",children:[Array.from({length:1},function(item,index){var _jsxs2;return/*#__PURE__*/ (// completeData.length > 0 && DrpValues.length > 0 ? (\n_jsx(_Fragment,{children:DrpValues.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix flex-nowrap\",children:[/*#__PURE__*/_jsx(DragHandle,_objectSpread(_objectSpread({},provided.dragHandleProps),{},{className:\"mr-2\"})),/*#__PURE__*/_jsxs(\"select\",(_jsxs2={name:\"tag\",className:\"form-control\"},_defineProperty(_jsxs2,\"name\",\"tag\".concat(index)),_defineProperty(_jsxs2,\"id\",x[\"\".concat(index)]),_defineProperty(_jsxs2,\"value\",x[\"tag\".concat(index)]),_defineProperty(_jsxs2,\"onChange\",function onChange(e){return handleInputChange(e,i);}),_defineProperty(_jsxs2,\"children\",[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),DrpValues.map(function(item,key){return/*#__PURE__*/ (// console.log(item.vilakshan_journey)\n_jsx(\"option\",{value:item.value0,children:item.value0}));})]),_jsxs2))]})})}):null})// ) : (null)\n);}),Array.from({length:7},function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"0\",maxLength:200,max:200,name:\"value\".concat(index),value:x[\"value\".concat(index)],onChange:function onChange(e){return handleInputChange(e,i);},required:true})})})});}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2\",children:[inputListFinal.length!==1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-raised rembtn btn-square waves-effect m-l-40\",onClick:function onClick(){return handleRemoveClick(i);},children:/*#__PURE__*/_jsx(\"strong\",{children:\"REMOVE\"})}),inputListFinal.length-1===i&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-raised addbtn btn-square waves-effect m-l-40 \",onClick:handleAddClick,children:/*#__PURE__*/_jsx(\"strong\",{children:\"ADD\"})})]})]})}));}},i);}),provided.placeholder]}));}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30}}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"btn savebtn waves-effect\",onClick:OnSubmitHandle,children:[\"SAVE \",/*#__PURE__*/_jsx(\"i\",{className:\"ml-1 zmdi zmdi-save \"})]}),completeData.length>0?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"btn viewbtn waves-effect m-r-20\",\"data-toggle\":\"modal\",\"data-target\":\"#largeModal\",onClick:function onClick(){return props.OnValidate1(true);},children:[\"SUBMIT \",/*#__PURE__*/_jsx(\"i\",{className:\"ml-1 zmdi zmdi-check \"}),\" \"]}):null]}):null]}),\"          \"]})})})]})});}","map":{"version":3,"sources":["/home/shubham/Projects/Transgazination_Project/TG_UI/src/pages/Parivartan09/vilakshanMapTab2.js"],"names":["React","useState","useEffect","StickyTable","Row","Cell","useHistory","Modal","List","ListContainer","ListItem","DragDropContext","Droppable","Draggable","DragHandle","Form","props","list","getList","history","s_id","localStorage","getItem","featues","inputListFeature","setInputListFeature","featues2","inputListFeature2","setInputListFeature2","competition","inputList","setInputList","inputListFinal","setInputListFinal","inputListFinal2","setInputListFinal2","customerList","setCustomerList","allList","setallList","EditList","setEditList","edituser","setedituser","PossibleCombination","setPossibleCombination","total","settotal","holdValue","setholdValue","org_name","setorg_name","completeData","setcompleteData","Upid","setUpid","ShowHideErr","setShowHideErr","Madd","setMadd","Mupdate","setMupdate","errorshow","seterrorshow","DrpValues","setDrpValues","no","length","inputs","GetallRecords","push","myGetHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","then","response","json","resData","MyValues","data","console","log","map","item","key","Feature","eval","features","Feature2","features2","possible_combination","MyValues1","id","status","catch","error","handleInputChange","e","index","target","value","name","ips","handleInputChange2","list2","handleRemoveClick","splice","handleAddClick","i","pack","arr","result","finalobject","updateJson","featureJson","myHeaders","raw","JSON","stringify","email_id","created_by","body","OnSubmitHandle","value0","Values","comp","Object","keys","allObject","setTimeout","backgroundColor","width","overflowX","margin","marginLeft","text","marginTop","param","srcI","source","desI","destination","saveList","provided","_","innerRef","droppableProps","x","snapshot","draggableProps","style","boxShadow","isDragging","Array","from","dragHandleProps","placeholder","OnValidate1"],"mappings":"qrBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,GAAtB,CAA2BC,IAA3B,KAAuC,oBAAvC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,aAAT,CAAwBC,QAAxB,KAAwC,sBAAxC,CACA,OAASC,eAAT,CAA0BC,SAA1B,CAAqCC,SAArC,KAAsD,qBAAtD,CACA,OAASC,UAAT,KAA2B,0BAA3B,C,6IAEA,cAAe,SAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAElC,GAAMC,CAAAA,IAAI,CAAGT,IAAI,CAACU,OAAL,EAAb,CAEA,GAAMC,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CACA,GAAIc,CAAAA,IAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CACA,cAAgDrB,QAAQ,CAAC,CAAC,CAAEsB,OAAO,CAAE,EAAX,CAAD,CAAD,CAAxD,wCAAOC,gBAAP,eAAyBC,mBAAzB,eACA,eAAkDxB,QAAQ,CAAC,CAAC,CAAEyB,QAAQ,CAAE,EAAZ,CAAD,CAAD,CAA1D,yCAAOC,iBAAP,eAA0BC,oBAA1B,eAEA,eAAkC3B,QAAQ,CAAC,CAAC,CAAE4B,WAAW,CAAE,EAAf,CAAD,CAAD,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eACA,eAA4C9B,QAAQ,CAAC,CAAC,CAAE4B,WAAW,CAAE,EAAf,CAAD,CAAD,CAApD,yCAAOG,cAAP,eAAuBC,iBAAvB,eACA,eAA8ChC,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAtD,0CAAOiC,eAAP,gBAAwBC,kBAAxB,gBAEA,gBAAwClC,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAhD,2CAAOmC,YAAP,gBAAqBC,eAArB,gBACA,gBAA8BpC,QAAQ,CAAC,EAAD,CAAtC,2CAAOqC,OAAP,gBAAgBC,UAAhB,gBACA,gBAAgCtC,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAxC,2CAAOuC,QAAP,gBAAiBC,WAAjB,gBACA,gBAAgCxC,QAAQ,CAAC,KAAD,CAAxC,2CAAOyC,QAAP,gBAAiBC,WAAjB,gBACA,gBAAsD1C,QAAQ,CAAC,CAAD,CAA9D,2CAAO2C,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA0B5C,QAAQ,CAAC,CAAD,CAAlC,2CAAO6C,KAAP,gBAAcC,QAAd,gBACA,gBAAkC9C,QAAQ,CAAC,EAAD,CAA1C,2CAAO+C,SAAP,gBAAkBC,YAAlB,gBACA,gBAAgChD,QAAQ,CAAC,EAAD,CAAxC,2CAAOiD,QAAP,gBAAiBC,WAAjB,gBACA,gBAAwClD,QAAQ,CAAC,EAAD,CAAhD,2CAAOmD,YAAP,gBAAqBC,eAArB,gBACA,gBAAwBpD,QAAQ,CAAC,EAAD,CAAhC,2CAAOqD,IAAP,gBAAaC,OAAb,gBACA,gBAAsCtD,QAAQ,CAAC,KAAD,CAA9C,2CAAOuD,WAAP,gBAAoBC,cAApB,gBACA,gBAAwBxD,QAAQ,CAAC,KAAD,CAAhC,2CAAOyD,IAAP,gBAAaC,OAAb,gBACA,gBAA8B1D,QAAQ,CAAC,KAAD,CAAtC,2CAAO2D,OAAP,gBAAgBC,UAAhB,gBACA,gBAAkC5D,QAAQ,CAAC,KAAD,CAA1C,2CAAO6D,SAAP,gBAAkBC,YAAlB,gBAEA,gBAAkC9D,QAAQ,CAAC,EAAD,CAA1C,2CAAO+D,SAAP,gBAAkBC,YAAlB,gBAEA,GAAIC,CAAAA,EAAE,CAAGlB,SAAS,CAACmB,MAAnB,CACA,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACAlE,SAAS,CAAC,UAAM,CACdmE,aAAa,GAEd,CAHQ,CAGN,EAHM,CAAT,CAMA,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B;AACA,GAAI,CAACjD,IAAL,CAAW,CACTD,OAAO,CAACmD,IAAR,CAAa,aAAb,EACD,CACDb,cAAc,CAAC,KAAD,CAAd,CACA,GAAIc,CAAAA,YAAY,CAAG,GAAIC,CAAAA,OAAJ,EAAnB,CACAD,YAAY,CAACE,MAAb,CAAoB,cAApB,CAAoC,kBAApC,EACA,GAAIC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAEL,YAFU,CAGnBM,QAAQ,CAAE,QAHS,CAArB,CAKA;AACAC,KAAK,CAAC,kFAA6E1D,IAA7E,CAAD,CAAsFsD,cAAtF,CAAL,CACGK,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,OAAD,CAAa,CACjB,GAAIC,CAAAA,QAAQ,CAAGD,OAAO,CAACE,IAAvB,CACAC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCH,QAArC,EACA,GAAIC,CAAAA,IAAJ,CACAD,QAAQ,CAACI,GAAT,CAAa,SAACC,IAAD,CAAOC,GAAP,CAAe,CAC1B,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACH,IAAI,CAACI,QAAN,CAAlB,CACA,GAAIC,CAAAA,QAAQ,CAAGF,IAAI,CAACH,IAAI,CAACM,SAAN,CAAnB,CAEA/C,QAAQ,CAAC2C,OAAO,CAACvB,MAAT,CAAR,CACAuB,OAAO,CAACH,GAAR,CAAY,SAACC,IAAD,CAAOC,GAAP,CAAe,CACzB;AACAzC,SAAS,CAACsB,IAAV,CAAe,EAAf,EACAe,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BtC,SAA3B,EACD,CAJD,EAQA;AACAX,eAAe,CAACW,SAAD,CAAf,CACAqC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCI,OAAhC,EACAL,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCO,QAAjC,EAEAhD,sBAAsB,CAAC2C,IAAI,CAACO,oBAAN,CAAtB,CACAtE,mBAAmB,CAACiE,OAAD,CAAnB,CACA9D,oBAAoB,CAACiE,QAAD,CAApB,CACA;AAED,CAvBD,EAwBD,CA9BH,EA+BAf,KAAK,CACH,yFAAoF1D,IAApF,CADG,CAEHsD,cAFG,CAAL,CAIGK,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,OAAD,CAAa,CAEjB7B,eAAe,CAAC6B,OAAO,CAACE,IAAT,CAAf,CACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BJ,OAAO,CAACE,IAAR,CAAa,CAAb,CAA9B,EACA,GAAIY,CAAAA,SAAS,CAAGd,OAAO,CAACE,IAAxB,CAEA,GAAID,CAAAA,QAAQ,CAAGD,OAAO,CAACE,IAAvB,CACA,GAAID,QAAQ,CAAChB,MAAT,CAAkB,CAAtB,CAAyB,CACvBxB,WAAW,CAAC,IAAD,CAAX,CACAY,OAAO,CAAC2B,OAAO,CAACE,IAAR,CAAa,CAAb,EAAgBa,EAAjB,CAAP,CAED,CACDZ,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BH,QAA3B,EAEAA,QAAQ,CAACI,GAAT,CAAa,SAACC,IAAD,CAAOC,GAAP,CAAe,CAC1BJ,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BE,IAAI,CAACI,QAAhC,EACA,GAAIF,CAAAA,OAAO,CAAGC,IAAI,CAACH,IAAI,CAACI,QAAN,CAAlB,CACA,GAAIC,CAAAA,QAAQ,CAAGF,IAAI,CAACH,IAAI,CAACM,SAAN,CAAnB,CAEAT,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCI,OAAtC,EACAL,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCO,QAAxC,EAEAxD,eAAe,CAACqD,OAAD,CAAf,CACA3D,YAAY,CAAC2D,OAAD,CAAZ,CACAzD,iBAAiB,CAACyD,OAAD,CAAjB,CACAvD,kBAAkB,CAAC0D,QAAD,CAAlB,CAED,CAbD,EAeAR,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BU,SAA3B,EAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACD,CAhDH,EAkDAlB,KAAK,sFAA+E1D,IAA/E,EAAuFsD,cAAvF,CAAL,CACGK,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,OAAD,CAAa,CACjB;AACAG,OAAO,CAACC,GAAR,CAAY,sCAAZ,CAAoDJ,OAAO,CAACE,IAAR,CAAajB,MAAjE,EACA,GAAIe,OAAO,CAACE,IAAR,CAAajB,MAAb,CAAsB,CAA1B,CAA6B,CAC3BhB,WAAW,CAAC+B,OAAO,CAACE,IAAR,CAAa,CAAb,EAAgBlC,QAAjB,CAAX,CACAmC,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACE,IAApB,EACA,GAAID,CAAAA,QAAQ,CAAGD,OAAO,CAACE,IAAvB,CACAC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCH,QAArC,EACA;AACA;AACA;AACA;AACA;AACA;AACD,CACD;AACD,CAlBH,EAoBAL,KAAK,uFAAgF1D,IAAhF,EAAwFsD,cAAxF,CAAL,CACGK,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,OAAD,CAAa,CACjBG,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACE,IAApB,EACAnB,YAAY,CAACiB,OAAO,CAACE,IAAR,CAAa,CAAb,EAAgBQ,QAAjB,CAAZ,CACA,GAAIV,OAAO,CAACgB,MAAR,EAAkB,GAAtB,CAA2B,CACzBb,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACD,CACF,CARH,EASGa,KATH,CASS,SAACC,KAAD,QAAWf,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBc,KAArB,CAAX,EATT,EAUAf,OAAO,CAACC,GAAR,CAAYlC,YAAZ,CAA0B,MAA1B,EACAiC,OAAO,CAACC,GAAR,CAAYtB,SAAZ,CAAuB,WAAvB,EAED,CAhID,CAoIA;AACA,GAAMqC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAIC,KAAJ,CAAc,CACtC;AACA;AAEA,GAAID,CAAC,CAACE,MAAF,CAASC,KAAT,CAAiB,CAArB,CAAwB,CACtBhD,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,IAEO,CACLA,cAAc,CAAC,IAAD,CAAd,CACA;AACD,CAED,cAA6B6C,CAAC,CAACE,MAA/B,CAAQE,IAAR,WAAQA,IAAR,CAAcD,KAAd,WAAcA,KAAd,CAAqBE,GAArB,WAAqBA,GAArB,CACA,GAAM1F,CAAAA,IAAI,oBAAOe,cAAP,CAAV,CACAqD,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCrE,IAAtC,EACAA,IAAI,CAACsF,KAAD,CAAJ,CAAYG,IAAZ,EAAoBD,KAApB,CACAxF,IAAI,CAACsF,KAAD,CAAJ,CAAY,YAAZ,EAA4B,CAA5B,CAEAlB,OAAO,CAACC,GAAR,CAAYrE,IAAI,CAACsF,KAAD,CAAJ,CAAYG,IAAZ,CAAZ,EACArB,OAAO,CAACC,GAAR,CAAYmB,KAAK,CAAG,KAApB,EAEAxE,iBAAiB,CAAChB,IAAD,CAAjB,CACD,CArBD,CAwBA,GAAM2F,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACN,CAAD,CAAIC,KAAJ,CAAc,CACvC,GAAID,CAAC,CAACE,MAAF,CAASC,KAAT,CAAiB,CAArB,CAAwB,CACtBhD,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,IAEO,CACLA,cAAc,CAAC,IAAD,CAAd,CACA;AACD,CAED,eAAwB6C,CAAC,CAACE,MAA1B,CAAQE,IAAR,YAAQA,IAAR,CAAcD,KAAd,YAAcA,KAAd,CACA,GAAMI,CAAAA,KAAK,oBAAO3E,eAAP,CAAX,CACAmD,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCuB,KAAlC,EACAA,KAAK,CAAC,CAAD,CAAL,CAASH,IAAT,EAAiBD,KAAjB,CACAtE,kBAAkB,CAAC0E,KAAD,CAAlB,CACD,CAbD,CAeA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACP,KAAD,CAAW,CACnC,GAAMtF,CAAAA,IAAI,oBAAOe,cAAP,CAAV,CACAC,iBAAiB,CAAChB,IAAD,CAAjB,CACAA,IAAI,CAAC8F,MAAL,CAAYR,KAAZ,CAAmB,CAAnB,EACD,CAJD,CAMA,GAAMS,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAIP,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIhB,CAAAA,GAAG,CAAG,EAAV,CACAgB,KAAK,CAACnC,IAAN,CAAW,aAAX,EACA,IAAK,GAAI2C,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAInE,KAArB,CAA4BmE,CAAC,EAA7B,CAAiC,CAC/BR,KAAK,CAACnC,IAAN,gBAAmB2C,CAAnB,GACD,CACD,IAAK,GAAIA,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,EAAInE,KAArB,CAA4BmE,EAAC,EAA7B,CAAiC,CAC/BxB,GAAG,CAACnB,IAAJ,CAAS,WAAI2C,EAAJ,EAAT,EACD,CACD,GAAIC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAUC,GAAV,CAAe,CACxB,GAAIhD,CAAAA,MAAM,CAAGgD,GAAG,CAAChD,MAAjB,CACEiD,MAAM,CAAG,EADX,CAEEH,CAFF,CAGA,IAAKA,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG9C,MAAhB,CAAwB8C,CAAC,EAAzB,CAA6B,CAC3BG,MAAM,CAAC,CAACH,CAAC,CAAG,EAAJ,CAAS,GAAT,CAAe,EAAhB,GAAuBA,CAAC,CAAG,CAA3B,CAAD,CAAN,CAAwCE,GAAG,CAACF,CAAD,CAA3C,CACD,CACD,MAAOG,CAAAA,MAAP,CACD,CARD,CASA,GAAMC,CAAAA,WAAW,CAAGH,IAAI,CAACT,KAAD,CAAxB,CAAiC;AACjCpB,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB+B,WAAzB,EACApF,iBAAiB,8BAAKD,cAAL,GAAqBqF,WAArB,GAAjB,CACAhC,OAAO,CAACC,GAAR,CAAYxD,SAAZ,EACD,CAvBD,CAyBA,GAAMwF,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,WAAD,CAAiB,CAClC,GAAIC,CAAAA,SAAS,CAAG,GAAIhD,CAAAA,OAAJ,EAAhB,CACAgD,SAAS,CAAC/C,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EACA,GAAIgD,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAe,CACvB/B,QAAQ,CAAE2B,WADa,CAEvBK,QAAQ,CAAExG,IAFa,CAGvByG,UAAU,CAAEzG,IAHW,CAAf,CAAV,CAKA,GAAIsD,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAE4C,SAFU,CAGnBM,IAAI,CAAEL,GAHa,CAInB5C,QAAQ,CAAE,QAJS,CAArB,CAMAC,KAAK,kFACuE1D,IADvE,EAEHsD,cAFG,CAAL,CAIGK,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,OAAD,CAAa,CACjBG,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACAb,aAAa,GAEb,GAAIa,OAAO,CAACgB,MAAR,EAAkB,GAAtB,CAA2B,CACzB;AACA;AACA;AACA;AACA;AACA;AAGA7B,aAAa,GAEd,CACDA,aAAa,GAEd,CAvBH,EAwBG8B,KAxBH,CAwBS,SAACC,KAAD,QAAWf,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBc,KAArB,CAAX,EAxBT,EAyBD,CAvCD,CA2CA,GAAM2B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,IAAK,GAAId,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGjF,cAAc,CAACmC,MAAnC,CAA2C8C,CAAC,EAA5C,CAAgD,CAC9C,GAAIjF,cAAc,CAACiF,CAAD,CAAd,CAAkBe,MAAlB,EAA4B,EAA5B,EAAkC,CAAChG,cAAc,CAACiF,CAAD,CAAd,CAAkBe,MAAzD,CAAiE,CAC/DjE,YAAY,CAAC,IAAD,CAAZ,CACA,MAAO,MAAP,CACD,CACF,CACD1B,eAAe,oBAAKD,YAAL,EAAoBN,SAApB,CAAf,CACA,GAAID,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIoG,CAAAA,MAAM,CAAG,EAAb,CACA;AACAnG,SAAS,CAACyD,GAAV,CAAc,SAAC2C,IAAD,CAAOzC,GAAP,CAAe,CAC3B5D,WAAW,CAACyC,IAAZ,CAAiB4D,IAAjB,EACD,CAFD,EAGA9F,YAAY,CAACmD,GAAb,CAAiB,SAACC,IAAD,CAAOC,GAAP,CAAe,CAC9B,GAAI0C,MAAM,CAACC,IAAP,CAAY5C,IAAZ,EAAkBrB,MAAlB,GAA6B,CAAjC,CAAoC,CAClC8D,MAAM,CAAC3D,IAAP,CAAYkB,IAAZ,EACA,IAAK,GAAIC,CAAAA,GAAT,GAAgBD,CAAAA,IAAhB,CAAsB,CACpBH,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BE,IAA5B,EACAH,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BE,IAAI,CAACC,GAAD,CAAhC,EACAJ,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4B+C,SAA5B,EACD,CACF,CACF,CATD,EAWA,GAAIA,CAAAA,SAAS,WAAOxG,WAAP,CAAuBoG,MAAvB,CAAb,CACA5C,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB+C,SAAzB,EACAhD,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCtD,cAAlC,EACAqD,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCpD,eAAnC,EAEA,GAAIkB,YAAY,CAACe,MAAb,GAAwB,CAA5B,CAA+B,CAC7B,GAAIqD,CAAAA,SAAS,CAAG,GAAIhD,CAAAA,OAAJ,EAAhB,CACAgD,SAAS,CAAC/C,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EACA,GAAIgD,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAe,CACvB/B,QAAQ,CAAE5D,cADa,CAEvB4F,QAAQ,CAAExG,IAFa,CAGvByG,UAAU,CAAEzG,IAHW,CAAf,CAAV,CAKA,GAAIsD,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE4C,SAFU,CAGnBM,IAAI,CAAEL,GAHa,CAInB5C,QAAQ,CAAE,QAJS,CAArB,CAMAC,KAAK,2EAEHJ,cAFG,CAAL,CAIGK,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,OAAD,CAAa,CACjBG,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACA;AAGA,GAAIA,OAAO,CAACgB,MAAR,EAAkB,GAAtB,CAA2B,CACzBb,OAAO,CAACC,GAAR,CAAY,iCAAZ,EACA3B,OAAO,CAAC,IAAD,CAAP,CACA2E,UAAU,CAAC,UAAM,CACf3E,OAAO,CAAC,KAAD,CAAP,CACD,CAFS,CAEP,IAFO,CAAV,CAGA;AACAU,aAAa,GAEb;AAED,CACF,CAtBH,EAuBG8B,KAvBH,CAuBS,SAACC,KAAD,QAAWf,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBc,KAArB,CAAX,EAvBT,EAwBD,CAtCD,IAsCO,CACL,GAAIoB,CAAAA,SAAS,CAAG,GAAIhD,CAAAA,OAAJ,EAAhB,CACAgD,SAAS,CAAC/C,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EACA,GAAIgD,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAe,CACvB/B,QAAQ,CAAE5D,cADa,CAEvB4F,QAAQ,CAAExG,IAFa,CAGvByG,UAAU,CAAEzG,IAHW,CAAf,CAAV,CAKA,GAAIsD,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAE4C,SAFU,CAGnBM,IAAI,CAAEL,GAHa,CAInB5C,QAAQ,CAAE,QAJS,CAArB,CAMAC,KAAK,kFACuE1D,IADvE,EAEHsD,cAFG,CAAL,CAIGK,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,OAAD,CAAa,CACjBG,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACA,GAAIA,OAAO,CAACgB,MAAR,EAAkB,GAAtB,CAA2B,CACzBb,OAAO,CAACC,GAAR,CAAY,iCAAZ,EACAzB,UAAU,CAAC,IAAD,CAAV,CACAyE,UAAU,CAAC,UAAM,CACfzE,UAAU,CAAC,KAAD,CAAV,CACD,CAFS,CAEP,IAFO,CAAV,CAGA;AAGAQ,aAAa,GACd,CACF,CAlBH,EAmBG8B,KAnBH,CAmBS,SAACC,KAAD,QAAWf,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBc,KAArB,CAAX,EAnBT,EAoBD,CAEF,CAxGD,CA2GA,mBACE,sCAEE,aAAK,SAAS,CAAC,iBAAf,wBAEE,KAAC,KAAD,EACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAE1C,IAFR,CAGE,MAAM,CAAE,wBAAMC,CAAAA,OAAO,CAAC,KAAD,CAAb,EAHV,CAIE,kBAAgB,8BAJlB,uBAME,KAAC,KAAD,CAAO,IAAP,oCANF,EAFF,cAWE,KAAC,KAAD,EACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAEC,OAFR,CAGE,MAAM,CAAE,wBAAMC,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAHV,CAIE,kBAAgB,8BAJlB,uBAME,KAAC,KAAD,CAAO,IAAP,qCANF,EAXF,cAoBE,YAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,kBAAI0E,eAAe,CAAE,OAArB,CAA8BC,KAAK,CAAE,OAArC,oBAA+D,SAA/D,CAApC,uBAEE,YAAK,SAAS,CAAC,+BAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBAGE,aAAK,KAAK,CAAE,CAAED,eAAe,CAAE,OAAnB,CAA4BC,KAAK,CAAE,OAAnC,CAA4CC,SAAS,CAAE,MAAvD,CAAZ,WACGpD,OAAO,CAACC,GAAR,CAAYtD,cAAc,CAAC,CAAD,CAAd,CAAkBgG,MAA9B,CADH,CAGGxG,gBAAgB,EAAIQ,cAApB,cACC,aAAK,SAAS,CAAC,UAAf,WAEG8B,SAAS,EAAI,IAAb,cAAqB,YAAK,KAAK,CAAE,CAAE4E,MAAM,CAAE,MAAV,CAAkBC,UAAU,CAAE,MAA9B,CAAsCC,IAAI,CAAE,KAA5C,CAAZ,uBACpB,aAAM,SAAS,CAAC,aAAhB,iDADoB,EAArB,CAES,IAJZ,cAKE,YAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAb,CAAZ,EALF,cAQE,KAAC,eAAD,EACE,SAAS,CAAE,mBAACC,KAAD,CAAW,wBACpB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAazC,KAA1B,CACA,GAAM0C,CAAAA,IAAI,qBAAGH,KAAK,CAACI,WAAT,6CAAG,mBAAmB3C,KAAhC,CACA,GAAI0C,IAAJ,CAAU,CACRjH,cAAc,CAAC+E,MAAf,CAAsBkC,IAAtB,CAA4B,CAA5B,CAA+BjH,cAAc,CAAC+E,MAAf,CAAsBgC,IAAtB,CAA4B,CAA5B,EAA+B,CAA/B,CAA/B,EACAvI,IAAI,CAAC2I,QAAL,CAAcnH,cAAd,EACAqD,OAAO,CAACC,GAAR,CAAYtD,cAAZ,EACAqC,aAAa,GACbiD,UAAU,CAACtF,cAAD,CAAV,CACD,CACF,CAXH,uBAaE,MAAC,aAAD,yBAEE,aAAK,SAAS,CAAC,0BAAf,wBACE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,oDADF,EADF,EADF,cAOE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,+CADF,EADF,EAPF,cAaE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,gDADF,EADF,EAbF,cAkBE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,iDADF,EADF,EAlBF,cAuBE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,gDADF,EADF,EAvBF,cA4BE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,qDADF,EADF,EA5BF,cAiCE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,mDADF,EADF,EAjCF,cAsCE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,oDADF,EADF,EAtCF,GAFF,cAiDE,KAAC,SAAD,EAAW,WAAW,CAAC,aAAvB,UACG,kBAACoH,QAAD,CAAWC,CAAX,qBACC,yCAAK,GAAG,CAAED,QAAQ,CAACE,QAAnB,EAAiCF,QAAQ,CAACG,cAA1C,gBAEGvH,cAAc,CAACuD,GAAf,CAAmB,SAACiE,CAAD,CAAIvC,CAAJ,CAAU,CAC5B5B,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCkE,CAAnC,EACA,mBAEE,KAAC,SAAD,EAEE,WAAW,CAAE,aAAevC,CAF9B,CAGE,KAAK,CAAEA,CAHT,UAKG,kBAACmC,QAAD,CAAWK,QAAX,qBACC,KAAC,QAAD,8BACE,GAAG,CAAEL,QAAQ,CAACE,QADhB,EAEMF,QAAQ,CAACM,cAFf,MAGE,KAAK,gCACAN,QAAQ,CAACM,cAAT,CAAwBC,KADxB,MAEHC,SAAS,CAAEH,QAAQ,CAACI,UAAT,CACP,gBADO,CAEP,MAJD,EAHP,uBAWE,aAAK,SAAS,CAAC,0BAAf,WACGC,KAAK,CAACC,IAAN,CAAW,CAAE5F,MAAM,CAAE,CAAV,CAAX,CAA0B,SAACqB,IAAD,CAAOe,KAAP,CAAiB,YAC1C,oBACE;AACA,yBACGvC,SAAS,CAACG,MAAV,CAAmB,CAAnB,cACC,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,KAAC,UAAD,gCAAgBiF,QAAQ,CAACY,eAAzB,MAA0C,SAAS,CAAC,MAApD,GADF,cAEE,wBAAQ,IAAI,CAAC,KAAb,CAAmB,SAAS,CAAC,cAA7B,6CAAwDzD,KAAxD,+BAAqEiD,CAAC,WAAIjD,KAAJ,EAAtE,iCAA2FiD,CAAC,cAAOjD,KAAP,EAA5F,oCAAuH,kBAACD,CAAD,QAAOD,CAAAA,iBAAiB,CAACC,CAAD,CAAIW,CAAJ,CAAxB,EAAvH,kDACE,eAAQ,KAAK,CAAC,EAAd,EADF,CAEGjD,SAAS,CAACuB,GAAV,CAAc,SAACC,IAAD,CAAOC,GAAP,sBACb;AACA,eAAQ,KAAK,CAAED,IAAI,CAACwC,MAApB,UAA6BxC,IAAI,CAACwC,MAAlC,EAFa,GAAd,CAFH,WAFF,GADF,EADF,EADD,CAeI,IAhBP,EAkBA;AApBF,EAuBD,CAxBA,CADH,CA6BG8B,KAAK,CAACC,IAAN,CAAW,CAAE5F,MAAM,CAAE,CAAV,CAAX,CAA0B,SAACqB,IAAD,CAAOe,KAAP,CAAiB,CAC1C,mBACE,sCACE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,GAHd,CAIE,SAAS,CAAE,GAJb,CAKE,GAAG,CAAE,GALP,CAME,IAAI,gBAAUA,KAAV,CANN,CAOE,KAAK,CAAEiD,CAAC,gBAASjD,KAAT,EAPV,CAQE,QAAQ,CAAE,kBAACD,CAAD,QAAOD,CAAAA,iBAAiB,CAACC,CAAD,CAAIW,CAAJ,CAAxB,EARZ,CASE,QAAQ,KATV,EADF,EADF,EADF,EADF,CAqBD,CAtBA,CA7BH,cAwDE,aAAK,SAAS,CAAC,UAAf,WACGjF,cAAc,CAACmC,MAAf,GAA0B,CAA1B,eACC,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,sDAFZ,CAGE,OAAO,CAAE,yBAAM2C,CAAAA,iBAAiB,CAACG,CAAD,CAAvB,EAHX,uBAKE,kCALF,EAFJ,CAUGjF,cAAc,CAACmC,MAAf,CAAwB,CAAxB,GAA8B8C,CAA9B,eACC,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,OAAO,CAAED,cAHX,uBAKE,+BALF,EAXJ,GAxDF,GAXF,GADD,EALH,EACOC,CADP,CAFF,CAoGD,CAtGA,CAFH,CA0GGmC,QAAQ,CAACa,WA1GZ,IADD,EADH,EAjDF,GAbF,EARF,cA2LE,YAAK,KAAK,CAAE,CAAEpB,SAAS,CAAE,EAAb,CAAZ,EA3LF,cA4LE,gBACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,0BAFR,CAGE,OAAO,CAAEd,cAHX,gCAKO,UAAG,SAAS,CAAC,sBAAb,EALP,GA5LF,CAoMG3E,YAAY,CAACe,MAAb,CAAsB,CAAtB,cAA2B,gBAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iCAA5B,CAA8D,cAAY,OAA1E,CAAkF,cAAY,aAA9F,CAA4G,OAAO,CAAE,yBAAMnD,CAAAA,KAAK,CAACkJ,WAAN,CAAkB,IAAlB,CAAN,EAArH,kCAA2J,UAAG,SAAS,CAAC,uBAAb,EAA3J,OAA3B,CACG,IArMN,GADD,CAyMG,IA5MN,GAHF,gBADF,EAFF,EApBF,GAFF,EADF,CAmPD","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StickyTable, Row, Cell } from \"react-sticky-table\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport List from \"./data\";\r\nimport { ListContainer, ListItem } from \"../components/styles\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { DragHandle } from \"../components/DragHandle\";\r\n\r\nexport default function Form(props) {\r\n\r\n  const list = List.getList();\r\n\r\n  const history = useHistory();\r\n  var s_id = localStorage.getItem('tr_id')\r\n  const [inputListFeature, setInputListFeature] = useState([{ featues: \"\" }]);\r\n  const [inputListFeature2, setInputListFeature2] = useState([{ featues2: \"\" }]);\r\n\r\n  const [inputList, setInputList] = useState([{ competition: \"\" }]);\r\n  const [inputListFinal, setInputListFinal] = useState([{ competition: \"\" }]);\r\n  const [inputListFinal2, setInputListFinal2] = useState([{}]);\r\n\r\n  const [customerList, setCustomerList] = useState([{}]);\r\n  const [allList, setallList] = useState(\"\");\r\n  const [EditList, setEditList] = useState([{}]);\r\n  const [edituser, setedituser] = useState(false);\r\n  const [PossibleCombination, setPossibleCombination] = useState(0);\r\n  const [total, settotal] = useState(0);\r\n  const [holdValue, setholdValue] = useState([]);\r\n  const [org_name, setorg_name] = useState(\"\");\r\n  const [completeData, setcompleteData] = useState('')\r\n  const [Upid, setUpid] = useState(\"\");\r\n  const [ShowHideErr, setShowHideErr] = useState(false);\r\n  const [Madd, setMadd] = useState(false);\r\n  const [Mupdate, setMupdate] = useState(false);\r\n  const [errorshow, seterrorshow] = useState(false);\r\n\r\n  const [DrpValues, setDrpValues] = useState(\"\");\r\n\r\n  let no = holdValue.length;\r\n  const inputs = [];\r\n  useEffect(() => {\r\n    GetallRecords();\r\n\r\n  }, []);\r\n\r\n\r\n  const GetallRecords = () => {\r\n    // alert(\"ok\")\r\n    if (!s_id) {\r\n      history.push(\"Not_support\");\r\n    }\r\n    setShowHideErr(false)\r\n    var myGetHeaders = new Headers();\r\n    myGetHeaders.append(\"Content-Type\", \"application/json\");\r\n    var requestOptions = {\r\n      method: \"GET\",\r\n      headers: myGetHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n    // fetch(`https://parivartan.transganization.com/nodejs/masters/valueprop/` + `${1}`, requestOptions)\r\n    fetch(`https://parivartan.transganization.com/nodejs/masters/valueprop/user/` + `${s_id}`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        let MyValues = resData.data;\r\n        console.log(\"In UseEffect Function\", MyValues);\r\n        let data;\r\n        MyValues.map((item, key) => {\r\n          let Feature = eval(item.features);\r\n          let Feature2 = eval(item.features2);\r\n\r\n          settotal(Feature.length);\r\n          Feature.map((item, key) => {\r\n            // data.push([{competition:\"\", [`value${key}`]:\"\"}])\r\n            holdValue.push({});\r\n            console.log(\"Pushed data\", holdValue);\r\n          });\r\n\r\n\r\n\r\n          // setInputList(data)\r\n          setCustomerList(holdValue);\r\n          console.log(\"Dataa to get map\", Feature);\r\n          console.log(\"Dataa to get map2\", Feature2);\r\n\r\n          setPossibleCombination(item.possible_combination);\r\n          setInputListFeature(Feature);\r\n          setInputListFeature2(Feature2);\r\n          // props.OnValidateTab1(true);\r\n\r\n        });\r\n      });\r\n    fetch(\r\n      `https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/user/` + `${s_id}`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n\r\n        setcompleteData(resData.data);\r\n        console.log(\"---resDAta--->\", resData.data[0]);\r\n        let MyValues1 = resData.data;\r\n\r\n        let MyValues = resData.data;\r\n        if (MyValues.length > 0) {\r\n          setedituser(true);\r\n          setUpid(resData.data[0].id);\r\n\r\n        }\r\n        console.log(\"Edit Values\", MyValues);\r\n\r\n        MyValues.map((item, key) => {\r\n          console.log(\"before Eval\", item.features);\r\n          let Feature = eval(item.features);\r\n          let Feature2 = eval(item.features2);\r\n\r\n          console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature);\r\n          console.log(\"SDfjdskjfn jsdhfkjsdfn22\", Feature2);\r\n\r\n          setCustomerList(Feature);\r\n          setInputList(Feature);\r\n          setInputListFinal(Feature)\r\n          setInputListFinal2(Feature2)\r\n\r\n        });\r\n\r\n        console.log(\"Edit Values\", MyValues1);\r\n\r\n        // MyValues1.map((i, key) => {\r\n        //   console.log(\"before Eval\", i.features);\r\n        //   let Feature2 = eval(i.features);\r\n\r\n        //   console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature2);\r\n\r\n        //   setCustomerList(Feature);\r\n        //   setInputList(Feature);\r\n        //   setInputListFinal(Feature)\r\n        //   setInputListFinal2(Feature2)\r\n\r\n        // });\r\n      });\r\n\r\n    fetch(`https://parivartan.transganization.com/nodejs/masters/customerSegment/user/${s_id}`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        // setcompleteData(resData.data)\r\n        console.log(\"In Beliver Get all Reccords Function\", resData.data.length);\r\n        if (resData.data.length > 0) {\r\n          setorg_name(resData.data[0].org_name);\r\n          console.log(resData.data)\r\n          let MyValues = resData.data;\r\n          console.log(\"In UseEffect Function\", MyValues);\r\n          // MyValues.map((item, key) => {\r\n          //   let customerFaceMap = eval(item.customer_face);\r\n          //   console.log(\"Data customerFaceMap \", customerFaceMap);\r\n          //   setcustomerSegmentData(customerFaceMap)\r\n          //   setInputList(customerFaceMap);\r\n          // });\r\n        }\r\n        // setShowHideErrData(true)\r\n      });\r\n\r\n    fetch(`https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab1/user/${s_id}`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        console.log(resData.data);\r\n        setDrpValues(resData.data[0].features);\r\n        if (resData.status == 200) {\r\n          console.log(\"Data Added succesfully\");\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n    console.log(completeData, \"reso\");\r\n    console.log(DrpValues, \"DrpValues\");\r\n\r\n  }\r\n\r\n\r\n\r\n  // handle input change\r\n  const handleInputChange = (e, index) => {\r\n    // console.log(e.target.id)\r\n    // console.log(index)\r\n\r\n    if (e.target.value > 9) {\r\n      setShowHideErr(false)\r\n    } else {\r\n      setShowHideErr(true);\r\n      // alert(Show)\r\n    }\r\n\r\n    const { name, value, ips } = e.target;\r\n    const list = [...inputListFinal];\r\n    console.log(\"Here is the Value---1>\", list);\r\n    list[index][name] = value;\r\n    list[index][\"is_display\"] = 0;\r\n\r\n    console.log(list[index][name]);\r\n    console.log(value + \"val\");\r\n\r\n    setInputListFinal(list);\r\n  };\r\n\r\n\r\n  const handleInputChange2 = (e, index) => {\r\n    if (e.target.value > 9) {\r\n      setShowHideErr(false)\r\n    } else {\r\n      setShowHideErr(true);\r\n      // alert(Show)\r\n    }\r\n\r\n    const { name, value } = e.target;\r\n    const list2 = [...inputListFinal2];\r\n    console.log(\"Here is the Value2\", list2);\r\n    list2[0][name] = value;\r\n    setInputListFinal2(list2);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    const list = [...inputListFinal];\r\n    setInputListFinal(list);\r\n    list.splice(index, 1);\r\n  };\r\n\r\n  const handleAddClick = () => {\r\n    let value = [];\r\n    let key = [];\r\n    value.push('competition');\r\n    for (let i = 1; i <= total; i++) {\r\n      value.push(`value${i}`)\r\n    }\r\n    for (let i = 1; i <= total; i++) {\r\n      key.push([`${i}`])\r\n    }\r\n    var pack = function (arr) {\r\n      var length = arr.length,\r\n        result = {},\r\n        i;\r\n      for (i = 0; i < length; i++) {\r\n        result[(i < 10 ? '0' : '') + (i + 1)] = arr[i];\r\n      }\r\n      return result;\r\n    };\r\n    const finalobject = pack(value); //{01: \"one\", 02: \"two\", 03: \"three\"}      \r\n    console.log(\"object is\", finalobject)\r\n    setInputListFinal([...inputListFinal, finalobject]);\r\n    console.log(inputList);\r\n  };\r\n\r\n  const updateJson = (featureJson) => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var raw = JSON.stringify({\r\n      features: featureJson,\r\n      email_id: s_id,\r\n      created_by: s_id,\r\n    });\r\n    var requestOptions = {\r\n      method: \"PUT\",\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: \"follow\",\r\n    };\r\n    fetch(\r\n      `https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/${s_id}`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        console.log(resData);\r\n        GetallRecords();\r\n\r\n        if (resData.status == 200) {\r\n          // console.log(\"Values Submitted Succesfully==>\");\r\n          // setMupdate(true);\r\n          // setTimeout(() => {\r\n          //   setMupdate(false);\r\n          // }, 1000)\r\n          // props.OnValidate1(true)\r\n\r\n\r\n          GetallRecords();\r\n\r\n        }\r\n        GetallRecords();\r\n\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  }\r\n\r\n\r\n\r\n  const OnSubmitHandle = () => {\r\n    for (var i = 0; i < inputListFinal.length; i++) {\r\n      if (inputListFinal[i].value0 == \"\" || !inputListFinal[i].value0) {\r\n        seterrorshow(true);\r\n        return false;\r\n      }\r\n    }\r\n    setCustomerList([...customerList], inputList);\r\n    let competition = [];\r\n    let Values = [];\r\n    // allObject.push(inputList);\r\n    inputList.map((comp, key) => {\r\n      competition.push(comp);\r\n    });\r\n    customerList.map((item, key) => {\r\n      if (Object.keys(item).length === 3) {\r\n        Values.push(item);\r\n        for (var key in item) {\r\n          console.log(\"Key Value is\", item);\r\n          console.log(\"Key Value is\", item[key]);\r\n          console.log(\"Key Value is\", allObject);\r\n        }\r\n      }\r\n    });\r\n\r\n    var allObject = [...competition, ...Values];\r\n    console.log(\"all datra\", allObject);\r\n    console.log(\"all data inputlist\", inputListFinal);\r\n    console.log(\"all data inputlist2\", inputListFinal2);\r\n\r\n    if (completeData.length === 0) {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      var raw = JSON.stringify({\r\n        features: inputListFinal,\r\n        email_id: s_id,\r\n        created_by: s_id,\r\n      });\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: raw,\r\n        redirect: \"follow\",\r\n      };\r\n      fetch(\r\n        `https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((resData) => {\r\n          console.log(resData);\r\n          // props.OnValidate1(true)\r\n\r\n\r\n          if (resData.status == 200) {\r\n            console.log(\"Values Submitted Succesfully==>\");\r\n            setMadd(true);\r\n            setTimeout(() => {\r\n              setMadd(false);\r\n            }, 1000)\r\n            // props.OnValidate1(true)\r\n            GetallRecords();\r\n\r\n            //             props.OnValidate1(true)\r\n\r\n          }\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      var raw = JSON.stringify({\r\n        features: inputListFinal,\r\n        email_id: s_id,\r\n        created_by: s_id,\r\n      });\r\n      var requestOptions = {\r\n        method: \"PUT\",\r\n        headers: myHeaders,\r\n        body: raw,\r\n        redirect: \"follow\",\r\n      };\r\n      fetch(\r\n        `https://parivartan.transganization.com/nodejs/masters/vilakshanMapTab2/${s_id}`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((resData) => {\r\n          console.log(resData);\r\n          if (resData.status == 200) {\r\n            console.log(\"Values Submitted Succesfully==>\");\r\n            setMupdate(true);\r\n            setTimeout(() => {\r\n              setMupdate(false);\r\n            }, 1000)\r\n            // props.OnValidate1(true)\r\n\r\n\r\n            GetallRecords();\r\n          }\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className=\"container-fluid\">\r\n\r\n        <Modal\r\n          size=\"sm\"\r\n          show={Madd}\r\n          onHide={() => setMadd(false)}\r\n          aria-labelledby=\"example-modal-sizes-title-sm\"\r\n        >\r\n          <Modal.Body >Form Saved Successful</Modal.Body>\r\n        </Modal>\r\n\r\n        <Modal\r\n          size=\"sm\"\r\n          show={Mupdate}\r\n          onHide={() => setMupdate(false)}\r\n          aria-labelledby=\"example-modal-sizes-title-sm\"\r\n        >\r\n          <Modal.Body >Form Update Successful</Modal.Body>\r\n        </Modal>\r\n        {/* <div className=\"row clearfix \" style={{ backgroundColor: \"#F3F6F9\",width:\"100rem\",overflowX:\"auto\",whiteSpace:\"nowrap\" }}> */}\r\n        <div className=\"row clearfix \" style={{ backgroundColor: \"white\", width: \"80rem\", backgroundColor: \"#F3F6F9\" }}>\r\n\r\n          <div className=\"col-lg-12 col-md-12 col-sm-12\" >\r\n            <div className=\"card p-4 mt-2\" >\r\n\r\n\r\n              <div style={{ backgroundColor: \"white\", width: \"80rem\", overflowX: \"auto\", }}>\r\n                {console.log(inputListFinal[0].value0)}\r\n\r\n                {inputListFeature && inputListFinal ? (\r\n                  <div className=\"body p-5\">\r\n\r\n                    {errorshow == true ? (<div style={{ margin: \"10px\", marginLeft: \"30px\", text: \"red\" }}>\r\n                      <span className=\"text-danger\">Please fill the parent process name</span>\r\n                    </div>) : null}\r\n                    <div style={{ marginTop: 20 }}></div>\r\n\r\n\r\n                    <DragDropContext\r\n                      onDragEnd={(param) => {\r\n                        const srcI = param.source.index;\r\n                        const desI = param.destination?.index;\r\n                        if (desI) {\r\n                          inputListFinal.splice(desI, 0, inputListFinal.splice(srcI, 1)[0]);\r\n                          List.saveList(inputListFinal);\r\n                          console.log(inputListFinal)\r\n                          GetallRecords()\r\n                          updateJson(inputListFinal);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <ListContainer>\r\n\r\n                        <div className=\"row clearfix flex-nowrap\">\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group text-center\">\r\n                              <strong>Select Vilakshan Journey</strong>\r\n                            </div>\r\n                            {/* {org_name} */}\r\n                          </div>\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group\">\r\n                              <strong>Parent Process Name</strong>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group\">\r\n                              <strong>Parent Process Input</strong>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group\">\r\n                              <strong>Parent Process Output</strong>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group\">\r\n                              <strong>Parent Process Owner</strong>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group text-center\">\r\n                              <strong>Strategic Support Process</strong>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group\">\r\n                              <strong>Strategic Support Input</strong>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-lg-2\">\r\n                            <div className=\"form-group text-center\">\r\n                              <strong>Strategic Support Output</strong>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <Droppable droppableId=\"droppable-1\">\r\n                          {(provided, _) => (\r\n                            <div ref={provided.innerRef} {...provided.droppableProps}>\r\n\r\n                              {inputListFinal.map((x, i) => {\r\n                                console.log(\"The competion sheet\", x)\r\n                                return (\r\n\r\n                                  <Draggable\r\n                                    key={i}\r\n                                    draggableId={\"draggable-\" + i}\r\n                                    index={i}\r\n                                  >\r\n                                    {(provided, snapshot) => (\r\n                                      <ListItem\r\n                                        ref={provided.innerRef}\r\n                                        {...provided.draggableProps}\r\n                                        style={{\r\n                                          ...provided.draggableProps.style,\r\n                                          boxShadow: snapshot.isDragging\r\n                                            ? \"0 0 .4rem #666\"\r\n                                            : \"none\",\r\n                                        }}\r\n                                      >\r\n\r\n                                        <div className=\"row clearfix flex-nowrap\">\r\n                                          {Array.from({ length: 1 }, (item, index) => {\r\n                                            return (\r\n                                              // completeData.length > 0 && DrpValues.length > 0 ? (\r\n                                              <>\r\n                                                {DrpValues.length > 0 ? (\r\n                                                  <div className=\"col-lg-2\">\r\n                                                    <div className=\"form-group\">\r\n                                                      <div className=\"row clearfix flex-nowrap\">\r\n                                                        <DragHandle {...provided.dragHandleProps} className=\"mr-2\" />\r\n                                                        <select name=\"tag\" className=\"form-control\" name={`tag${index}`} id={x[`${index}`]} value={x[`tag${index}`]} onChange={(e) => handleInputChange(e, i)}>\r\n                                                          <option value=\"\"></option>\r\n                                                          {DrpValues.map((item, key) => (\r\n                                                            // console.log(item.vilakshan_journey)\r\n                                                            <option value={item.value0}>{item.value0}</option>\r\n                                                          ))}\r\n                                                        </select>\r\n                                                      </div>\r\n                                                    </div>\r\n                                                  </div>\r\n                                                ) : (null)}\r\n                                              </>\r\n                                              // ) : (null)\r\n\r\n                                            );\r\n                                          })\r\n                                          }\r\n\r\n\r\n                                          {Array.from({ length: 7 }, (item, index) => {\r\n                                            return (\r\n                                              <>\r\n                                                <div className=\"col-lg-2\">\r\n                                                  <div className=\"form-group\">\r\n                                                    <input\r\n                                                      type=\"text\"\r\n                                                      className=\"form-control\"\r\n                                                      placeholder=\"0\"\r\n                                                      maxLength={200}\r\n                                                      max={200}\r\n                                                      name={`value${index}`}\r\n                                                      value={x[`value${index}`]}\r\n                                                      onChange={(e) => handleInputChange(e, i)}\r\n                                                      required\r\n                                                    />\r\n\r\n                                                  </div>\r\n                                                </div>\r\n\r\n                                              </>\r\n                                            );\r\n                                          })\r\n\r\n                                          }\r\n\r\n\r\n                                          <div className=\"col-md-2\">\r\n                                            {inputListFinal.length !== 1 && (\r\n                                              <button\r\n                                                type=\"button\"\r\n                                                className=\"btn btn-raised rembtn btn-square waves-effect m-l-40\"\r\n                                                onClick={() => handleRemoveClick(i)}\r\n                                              >\r\n                                                <strong>REMOVE</strong>\r\n                                              </button>\r\n                                            )}\r\n                                            {inputListFinal.length - 1 === i && (\r\n                                              <button\r\n                                                type=\"button\"\r\n                                                className=\"btn btn-raised addbtn btn-square waves-effect m-l-40 \"\r\n                                                onClick={handleAddClick}\r\n                                              >\r\n                                                <strong>ADD</strong>\r\n                                              </button>\r\n                                            )}\r\n                                          </div>\r\n                                        </div>\r\n                                      </ListItem>\r\n                                    )}\r\n                                  </Draggable>\r\n                                );\r\n                              })}\r\n\r\n                              {provided.placeholder}\r\n                            </div>\r\n                          )}\r\n                        </Droppable>\r\n                      </ListContainer>\r\n                    </DragDropContext>\r\n\r\n\r\n\r\n                    <div style={{ marginTop: 30 }}></div>\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn savebtn waves-effect\"\r\n                      onClick={OnSubmitHandle}\r\n                    >\r\n                      SAVE <i className=\"ml-1 zmdi zmdi-save \" />\r\n                    </button>\r\n\r\n                    {completeData.length > 0 ? (<button type=\"button\" class=\"btn viewbtn waves-effect m-r-20\" data-toggle=\"modal\" data-target=\"#largeModal\" onClick={() => props.OnValidate1(true)}>SUBMIT <i className=\"ml-1 zmdi zmdi-check \" /> </button>\r\n                    ) : null}\r\n\r\n                  </div>\r\n                ) : null}\r\n              </div>          </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n\r\n  );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}