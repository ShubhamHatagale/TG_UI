{"ast":null,"code":"import _defineProperty from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{StickyTable,Row,Cell}from\"react-sticky-table\";import{useHistory}from\"react-router-dom\";import Modal from\"react-bootstrap/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(props){var history=useHistory();var s_id=localStorage.getItem('tr_id');var _useState=useState([{featues:\"\"}]),_useState2=_slicedToArray(_useState,2),inputListFeature=_useState2[0],setInputListFeature=_useState2[1];var _useState3=useState([{featues2:\"\"}]),_useState4=_slicedToArray(_useState3,2),inputListFeature2=_useState4[0],setInputListFeature2=_useState4[1];var _useState5=useState([{competition:\"\"}]),_useState6=_slicedToArray(_useState5,2),inputList=_useState6[0],setInputList=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),inputListFinal=_useState8[0],setInputListFinal=_useState8[1];var _useState9=useState([{}]),_useState10=_slicedToArray(_useState9,2),customerList=_useState10[0],setCustomerList=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),allList=_useState12[0],setallList=_useState12[1];var _useState13=useState([{}]),_useState14=_slicedToArray(_useState13,2),EditList=_useState14[0],setEditList=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),edituser=_useState16[0],setedituser=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),PossibleCombination=_useState18[0],setPossibleCombination=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),total=_useState20[0],settotal=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),holdValue=_useState22[0],setholdValue=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),org_name=_useState24[0],setorg_name=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),completeData=_useState26[0],setcompleteData=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),Upid=_useState28[0],setUpid=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),ShowHideErr=_useState30[0],setShowHideErr=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),Madd=_useState32[0],setMadd=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),Mupdate=_useState34[0],setMupdate=_useState34[1];var no=holdValue.length;var inputs=[];useEffect(function(){if(!s_id){history.push(\"Not_support\");}GetallRecords();},[]);// handle input change\nvar GetallRecords=function GetallRecords(){setShowHideErr(false);var myGetHeaders=new Headers();myGetHeaders.append(\"Content-Type\",\"application/json\");var requestOptions={method:\"GET\",headers:myGetHeaders,redirect:\"follow\"};// fetch(`https://parivartan.transganization.com/nodejs/masters/valueprop/` + `${1}`, requestOptions)\nfetch(\"https://parivartan.transganization.com/nodejs/masters/valueprop/user/\"+\"\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){var MyValues=resData.data;console.log(\"In UseEffect Function\",MyValues);var data;MyValues.map(function(item,key){var Feature=eval(item.features);var Feature2=eval(item.features2);settotal(Feature.length);Feature.map(function(item,key){// data.push([{competition:\"\", [`value${key}`]:\"\"}])\nholdValue.push({});console.log(\"Pushed data\",holdValue);});// setInputList(data)\nsetCustomerList(holdValue);console.log(\"Dataa to get map\",Feature);console.log(\"Dataa to get map2\",Feature2);setPossibleCombination(item.possible_combination);setInputListFeature(Feature);setInputListFeature2(Feature2);});});fetch(\"https://parivartan.transganization.com/nodejs/masters/competionsheet/user/\"+\"\".concat(s_id),requestOptions).then(function(response){return response.json();}).then(function(resData){setcompleteData(resData.data);console.log(\"---resDAta--->\",resData.data[0]);var MyValues1=resData.data;var MyValues=resData.data;if(MyValues.length>0){setedituser(true);setUpid(resData.data[0].id);}MyValues.map(function(item,key){console.log(\"before Eval\",item);var Feature=eval(item.features);var FeatureG=eval(item.features);var Feature2=eval(item.features2);console.log(\"SDfjdskjfn jsdhfkjsdfn\",Feature);console.log(\"SDfjdskjfn jsdhfkjsdfn22\",Feature2);setCustomerList(Feature);setInputList(Feature);setInputListFinal(Feature);});console.log(\"Edit Values\",MyValues);// MyValues1.map((i, key) => {\n//   console.log(\"before Eval\", i.features);\n//   let Feature2 = eval(i.features);\n//   console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature2);\n//   setCustomerList(Feature);\n//   setInputList(Feature);\n//   setInputListFinal(Feature)\n//   setInputListFinal2(Feature2)\n// });\n});};var OnSubmitHandle=function OnSubmitHandle(){GetallRecords();props.OnValidateStrategy(true);};var checkFinalize=function checkFinalize(e){console.log(e.target.value);console.log(e.target.name);var updValue=e.target.name;var checked_value=\"1\";console.log(inputListFinal);for(var i=0;i<inputListFinal.length;i++){if(inputListFinal[i].competition===updValue){console.log(inputListFinal[i].is_display);if(inputListFinal[i].is_display==0){inputListFinal[i].is_display=1;// GetallRecords();\n}else{inputListFinal[i].is_display=0;// GetallRecords();\n}console.log(inputListFinal);// break;\n}}console.log(inputListFinal);// GetallRecords();\nvar myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({features:inputListFinal});var requestOptions={method:\"PUT\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/competionsheetCheck/\".concat(Upid),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);if(resData.status==200){GetallRecords();// props.OnValidateStrategy(true);\n}GetallRecords();}).catch(function(error){return console.log(\"error\",error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Madd,onHide:function onHide(){return setMadd(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Saved Successful\"})}),/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Mupdate,onHide:function onHide(){return setMupdate(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Update Successful\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row clearfix \",style:_defineProperty({backgroundColor:\"white\",width:\"80rem\",overflowX:\"auto\"},\"backgroundColor\",\"#F3F6F9\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-md-12 col-sm-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:inputListFeature&&inputListFinal?/*#__PURE__*/_jsxs(\"div\",{className:\"body p-5\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:20}}),/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix flex-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 ml-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Select Organization\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\"})]}),console.log(\"The ------ffff\",inputListFinal),inputListFinal.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix flex-nowrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"div\",{class:\"input-group-text\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",\"aria-label\":\"Checkbox for following text input\",checked:x.is_display==0?x.is_display=1:x.is_display=0,value:x.is_display==0?false:true,name:x.competition,onChange:checkFinalize})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:\"true\",class:\"form-control\",value:x.competition,\"aria-label\":\"Text input with checkbox\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 ml-4 mt-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:x.is_display==0?\"btn btn-outline-primary w-25\":\"btn btn-primary w-25\",name:x.competition,onClick:checkFinalize,children:x.competition})})]});}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30}}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"btn savebtn waves-effect\",onClick:OnSubmitHandle,children:[\"SAVE \",/*#__PURE__*/_jsx(\"i\",{className:\"ml-1 zmdi zmdi-save \"})]})]}):null}),\"          \"]})})})]});}","map":{"version":3,"sources":["/home/shubham/Projects/Transgazination_Project/TG_UI/src/pages/BuisnessModel/finalizeCompetition.js"],"names":["React","useState","useEffect","StickyTable","Row","Cell","useHistory","Modal","Form","props","history","s_id","localStorage","getItem","featues","inputListFeature","setInputListFeature","featues2","inputListFeature2","setInputListFeature2","competition","inputList","setInputList","inputListFinal","setInputListFinal","customerList","setCustomerList","allList","setallList","EditList","setEditList","edituser","setedituser","PossibleCombination","setPossibleCombination","total","settotal","holdValue","setholdValue","org_name","setorg_name","completeData","setcompleteData","Upid","setUpid","ShowHideErr","setShowHideErr","Madd","setMadd","Mupdate","setMupdate","no","length","inputs","push","GetallRecords","myGetHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","then","response","json","resData","MyValues","data","console","log","map","item","key","Feature","eval","features","Feature2","features2","possible_combination","MyValues1","id","FeatureG","OnSubmitHandle","OnValidateStrategy","checkFinalize","e","target","value","name","updValue","checked_value","i","is_display","myHeaders","raw","JSON","stringify","body","status","catch","error","backgroundColor","width","overflowX","marginTop","x"],"mappings":"wVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,GAAtB,CAA2BC,IAA3B,KAAuC,oBAAvC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAElC,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAIK,CAAAA,IAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CACA,cAAgDZ,QAAQ,CAAC,CAAC,CAAEa,OAAO,CAAE,EAAX,CAAD,CAAD,CAAxD,wCAAOC,gBAAP,eAAyBC,mBAAzB,eACA,eAAkDf,QAAQ,CAAC,CAAC,CAAEgB,QAAQ,CAAE,EAAZ,CAAD,CAAD,CAA1D,yCAAOC,iBAAP,eAA0BC,oBAA1B,eAEA,eAAkClB,QAAQ,CAAC,CAAC,CAAEmB,WAAW,CAAE,EAAf,CAAD,CAAD,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eACA,eAA4CrB,QAAQ,CAAC,EAAD,CAApD,yCAAOsB,cAAP,eAAuBC,iBAAvB,eAEA,eAAwCvB,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAhD,0CAAOwB,YAAP,gBAAqBC,eAArB,gBACA,gBAA8BzB,QAAQ,CAAC,EAAD,CAAtC,2CAAO0B,OAAP,gBAAgBC,UAAhB,gBACA,gBAAgC3B,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAxC,2CAAO4B,QAAP,gBAAiBC,WAAjB,gBACA,gBAAgC7B,QAAQ,CAAC,KAAD,CAAxC,2CAAO8B,QAAP,gBAAiBC,WAAjB,gBACA,gBAAsD/B,QAAQ,CAAC,CAAD,CAA9D,2CAAOgC,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA0BjC,QAAQ,CAAC,CAAD,CAAlC,2CAAOkC,KAAP,gBAAcC,QAAd,gBACA,gBAAkCnC,QAAQ,CAAC,EAAD,CAA1C,2CAAOoC,SAAP,gBAAkBC,YAAlB,gBACA,gBAAgCrC,QAAQ,CAAC,EAAD,CAAxC,2CAAOsC,QAAP,gBAAiBC,WAAjB,gBACA,gBAAwCvC,QAAQ,CAAC,EAAD,CAAhD,2CAAOwC,YAAP,gBAAqBC,eAArB,gBACA,gBAAwBzC,QAAQ,CAAC,EAAD,CAAhC,2CAAO0C,IAAP,gBAAaC,OAAb,gBACA,gBAAsC3C,QAAQ,CAAC,KAAD,CAA9C,2CAAO4C,WAAP,gBAAoBC,cAApB,gBACA,gBAAwB7C,QAAQ,CAAC,KAAD,CAAhC,2CAAO8C,IAAP,gBAAaC,OAAb,gBACA,gBAA8B/C,QAAQ,CAAC,KAAD,CAAtC,2CAAOgD,OAAP,gBAAgBC,UAAhB,gBAEA,GAAIC,CAAAA,EAAE,CAAGd,SAAS,CAACe,MAAnB,CACA,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACAnD,SAAS,CAAC,UAAM,CAEd,GAAI,CAACS,IAAL,CAAW,CACTD,OAAO,CAAC4C,IAAR,CAAa,aAAb,EACD,CAEDC,aAAa,GAEd,CARQ,CAQN,EARM,CAAT,CAUA;AAIA,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BT,cAAc,CAAC,KAAD,CAAd,CACA,GAAIU,CAAAA,YAAY,CAAG,GAAIC,CAAAA,OAAJ,EAAnB,CACAD,YAAY,CAACE,MAAb,CAAoB,cAApB,CAAoC,kBAApC,EACA,GAAIC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAEL,YAFU,CAGnBM,QAAQ,CAAE,QAHS,CAArB,CAKA;AACAC,KAAK,CAAC,kFAA6EpD,IAA7E,CAAD,CAAsFgD,cAAtF,CAAL,CACGK,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,OAAD,CAAa,CACjB,GAAIC,CAAAA,QAAQ,CAAGD,OAAO,CAACE,IAAvB,CACAC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCH,QAArC,EACA,GAAIC,CAAAA,IAAJ,CACAD,QAAQ,CAACI,GAAT,CAAa,SAACC,IAAD,CAAOC,GAAP,CAAe,CAC1B,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACH,IAAI,CAACI,QAAN,CAAlB,CACA,GAAIC,CAAAA,QAAQ,CAAGF,IAAI,CAACH,IAAI,CAACM,SAAN,CAAnB,CAEA3C,QAAQ,CAACuC,OAAO,CAACvB,MAAT,CAAR,CACAuB,OAAO,CAACH,GAAR,CAAY,SAACC,IAAD,CAAOC,GAAP,CAAe,CACzB;AACArC,SAAS,CAACiB,IAAV,CAAe,EAAf,EACAgB,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BlC,SAA3B,EACD,CAJD,EAQA;AACAX,eAAe,CAACW,SAAD,CAAf,CACAiC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCI,OAAhC,EACAL,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCO,QAAjC,EAEA5C,sBAAsB,CAACuC,IAAI,CAACO,oBAAN,CAAtB,CACAhE,mBAAmB,CAAC2D,OAAD,CAAnB,CACAxD,oBAAoB,CAAC2D,QAAD,CAApB,CAED,CAtBD,EAuBD,CA7BH,EA8BAf,KAAK,CACH,uFAAkFpD,IAAlF,CADG,CAEHgD,cAFG,CAAL,CAIGK,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,OAAD,CAAa,CAEjBzB,eAAe,CAACyB,OAAO,CAACE,IAAT,CAAf,CACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BJ,OAAO,CAACE,IAAR,CAAa,CAAb,CAA9B,EACA,GAAIY,CAAAA,SAAS,CAAGd,OAAO,CAACE,IAAxB,CAEA,GAAID,CAAAA,QAAQ,CAAGD,OAAO,CAACE,IAAvB,CACA,GAAID,QAAQ,CAAChB,MAAT,CAAkB,CAAtB,CAAyB,CACvBpB,WAAW,CAAC,IAAD,CAAX,CACAY,OAAO,CAACuB,OAAO,CAACE,IAAR,CAAa,CAAb,EAAgBa,EAAjB,CAAP,CAED,CAEDd,QAAQ,CAACI,GAAT,CAAa,SAACC,IAAD,CAAOC,GAAP,CAAe,CAC1BJ,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BE,IAA3B,EACA,GAAIE,CAAAA,OAAO,CAAGC,IAAI,CAACH,IAAI,CAACI,QAAN,CAAlB,CACA,GAAIM,CAAAA,QAAQ,CAAGP,IAAI,CAACH,IAAI,CAACI,QAAN,CAAnB,CAEA,GAAIC,CAAAA,QAAQ,CAAGF,IAAI,CAACH,IAAI,CAACM,SAAN,CAAnB,CAEAT,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCI,OAAtC,EACAL,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCO,QAAxC,EAEApD,eAAe,CAACiD,OAAD,CAAf,CACArD,YAAY,CAACqD,OAAD,CAAZ,CACAnD,iBAAiB,CAACmD,OAAD,CAAjB,CAED,CAdD,EAgBAL,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BH,QAA3B,EAKA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACD,CAnDH,EAoDD,CA5FD,CA8FA,GAAMgB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B7B,aAAa,GACb9C,KAAK,CAAC4E,kBAAN,CAAyB,IAAzB,EAED,CAJD,CAUA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3BjB,OAAO,CAACC,GAAR,CAAYgB,CAAC,CAACC,MAAF,CAASC,KAArB,EACAnB,OAAO,CAACC,GAAR,CAAYgB,CAAC,CAACC,MAAF,CAASE,IAArB,EAEA,GAAIC,CAAAA,QAAQ,CAAGJ,CAAC,CAACC,MAAF,CAASE,IAAxB,CACA,GAAIE,CAAAA,aAAa,IAAjB,CACAtB,OAAO,CAACC,GAAR,CAAYhD,cAAZ,EAEA,IAAK,GAAIsE,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGtE,cAAc,CAAC6B,MAAnC,CAA2CyC,CAAC,EAA5C,CAAgD,CAC9C,GAAItE,cAAc,CAACsE,CAAD,CAAd,CAAkBzE,WAAlB,GAAkCuE,QAAtC,CAAgD,CAC9CrB,OAAO,CAACC,GAAR,CAAYhD,cAAc,CAACsE,CAAD,CAAd,CAAkBC,UAA9B,EACA,GAAIvE,cAAc,CAACsE,CAAD,CAAd,CAAkBC,UAAlB,EAAgC,CAApC,CAAuC,CACrCvE,cAAc,CAACsE,CAAD,CAAd,CAAkBC,UAAlB,CAA+B,CAA/B,CACA;AAED,CAJD,IAIO,CACLvE,cAAc,CAACsE,CAAD,CAAd,CAAkBC,UAAlB,CAA+B,CAA/B,CACA;AAED,CACDxB,OAAO,CAACC,GAAR,CAAYhD,cAAZ,EAGA;AACD,CACF,CACD+C,OAAO,CAACC,GAAR,CAAYhD,cAAZ,EACA;AACA,GAAIwE,CAAAA,SAAS,CAAG,GAAItC,CAAAA,OAAJ,EAAhB,CACAsC,SAAS,CAACrC,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EACA,GAAIsC,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAe,CACvBrB,QAAQ,CAAEtD,cADa,CAAf,CAAV,CAGA,GAAIoC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,OAAO,CAAEkC,SAFU,CAGnBI,IAAI,CAAEH,GAHa,CAInBlC,QAAQ,CAAE,QAJS,CAArB,CAMAC,KAAK,qFAC0EpB,IAD1E,EAEHgB,cAFG,CAAL,CAIGK,IAJH,CAIQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJR,EAKGF,IALH,CAKQ,SAACG,OAAD,CAAa,CACjBG,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACA,GAAIA,OAAO,CAACiC,MAAR,EAAkB,GAAtB,CAA2B,CACzB7C,aAAa,GACb;AACD,CACDA,aAAa,GAEd,CAbH,EAcG8C,KAdH,CAcS,SAACC,KAAD,QAAWhC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqB+B,KAArB,CAAX,EAdT,EAgBD,CAvDD,CAyDA,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,KAAD,EACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAEvD,IAFR,CAGE,MAAM,CAAE,wBAAMC,CAAAA,OAAO,CAAC,KAAD,CAAb,EAHV,CAIE,kBAAgB,8BAJlB,uBAME,KAAC,KAAD,CAAO,IAAP,oCANF,EADF,cAUE,KAAC,KAAD,EACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAEC,OAFR,CAGE,MAAM,CAAE,wBAAMC,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAHV,CAIE,kBAAgB,8BAJlB,uBAME,KAAC,KAAD,CAAO,IAAP,qCANF,EAVF,cAmBE,YAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,kBAAIqD,eAAe,CAAE,OAArB,CAA8BC,KAAK,CAAE,OAArC,CAA8CC,SAAS,CAAE,MAAzD,oBAAkF,SAAlF,CAApC,uBAEE,YAAK,SAAS,CAAC,+BAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBAIE,qBAEG1F,gBAAgB,EAAIQ,cAApB,cACC,aAAK,SAAS,CAAC,UAAf,wBAEE,YAAK,KAAK,CAAE,CAAEmF,SAAS,CAAE,EAAb,CAAZ,EAFF,cAIE,aAAK,SAAS,CAAC,0BAAf,wBAOE,YAAK,SAAS,CAAC,eAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,+CADF,EADF,EAPF,cAcE,YAAK,SAAS,CAAC,UAAf,EAdF,GAJF,CAgCGpC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BhD,cAA9B,CAhCH,CAmCGA,cAAc,CAACiD,GAAf,CAAmB,SAACmC,CAAD,CAAId,CAAJ,CAAU,CAC5B,mBACE,aAAK,SAAS,CAAC,0BAAf,wBAOE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,YAAf,EADF,cAWE,aAAK,KAAK,CAAC,kBAAX,wBACE,YAAK,KAAK,CAAC,qBAAX,uBACE,YAAK,KAAK,CAAC,kBAAX,uBACE,cAAO,IAAI,CAAC,UAAZ,CAAuB,aAAW,mCAAlC,CAAsE,OAAO,CAAGc,CAAC,CAACb,UAAF,EAAgB,CAAhB,CAAoBa,CAAC,CAACb,UAAF,CAAe,CAAnC,CAAuCa,CAAC,CAACb,UAAF,CAAe,CAAtI,CAA0I,KAAK,CAAGa,CAAC,CAACb,UAAF,EAAgB,CAAhB,CAAoB,KAApB,CAA4B,IAA9K,CAAqL,IAAI,CAAEa,CAAC,CAACvF,WAA7L,CAA0M,QAAQ,CAAEkE,aAApN,EADF,EADF,EADF,cAME,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAC,MAA5B,CAAmC,KAAK,CAAC,cAAzC,CAAwD,KAAK,CAAEqB,CAAC,CAACvF,WAAjE,CAA8E,aAAW,0BAAzF,EANF,GAXF,GAPF,cA4BE,YAAK,SAAS,CAAC,oBAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAGuF,CAAC,CAACb,UAAF,EAAgB,CAAhB,CAAoB,8BAApB,CAAqD,sBAAvF,CAAgH,IAAI,CAAEa,CAAC,CAACvF,WAAxH,CAAqI,OAAO,CAAEkE,aAA9I,UAA+JqB,CAAC,CAACvF,WAAjK,EADF,EA5BF,GADF,CAkCD,CAnCA,CAnCH,cAqFE,YAAK,KAAK,CAAE,CAAEsF,SAAS,CAAE,EAAb,CAAZ,EArFF,cAsFE,gBACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,0BAFR,CAGE,OAAO,CAAEtB,cAHX,gCAMO,UAAG,SAAS,CAAC,sBAAb,EANP,GAtFF,GADD,CAgGG,IAlGN,EAJF,gBADF,EAFF,EAnBF,GADF,CAqID","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { StickyTable, Row, Cell } from \"react-sticky-table\";\nimport { useHistory } from \"react-router-dom\";\nimport Modal from \"react-bootstrap/Modal\";\n\nexport default function Form(props) {\n\n  const history = useHistory();\n  var s_id = localStorage.getItem('tr_id')\n  const [inputListFeature, setInputListFeature] = useState([{ featues: \"\" }]);\n  const [inputListFeature2, setInputListFeature2] = useState([{ featues2: \"\" }]);\n\n  const [inputList, setInputList] = useState([{ competition: \"\" }]);\n  const [inputListFinal, setInputListFinal] = useState([]);\n\n  const [customerList, setCustomerList] = useState([{}]);\n  const [allList, setallList] = useState(\"\");\n  const [EditList, setEditList] = useState([{}]);\n  const [edituser, setedituser] = useState(false);\n  const [PossibleCombination, setPossibleCombination] = useState(0);\n  const [total, settotal] = useState(0);\n  const [holdValue, setholdValue] = useState([]);\n  const [org_name, setorg_name] = useState(\"\");\n  const [completeData, setcompleteData] = useState('')\n  const [Upid, setUpid] = useState(\"\");\n  const [ShowHideErr, setShowHideErr] = useState(false);\n  const [Madd, setMadd] = useState(false);\n  const [Mupdate, setMupdate] = useState(false);\n\n  let no = holdValue.length;\n  const inputs = [];\n  useEffect(() => {\n\n    if (!s_id) {\n      history.push(\"Not_support\");\n    }\n\n    GetallRecords();\n\n  }, []);\n\n  // handle input change\n\n\n\n  const GetallRecords = () => {\n    setShowHideErr(false)\n    var myGetHeaders = new Headers();\n    myGetHeaders.append(\"Content-Type\", \"application/json\");\n    var requestOptions = {\n      method: \"GET\",\n      headers: myGetHeaders,\n      redirect: \"follow\",\n    };\n    // fetch(`https://parivartan.transganization.com/nodejs/masters/valueprop/` + `${1}`, requestOptions)\n    fetch(`https://parivartan.transganization.com/nodejs/masters/valueprop/user/` + `${s_id}`, requestOptions)\n      .then((response) => response.json())\n      .then((resData) => {\n        let MyValues = resData.data;\n        console.log(\"In UseEffect Function\", MyValues);\n        let data;\n        MyValues.map((item, key) => {\n          let Feature = eval(item.features);\n          let Feature2 = eval(item.features2);\n\n          settotal(Feature.length);\n          Feature.map((item, key) => {\n            // data.push([{competition:\"\", [`value${key}`]:\"\"}])\n            holdValue.push({});\n            console.log(\"Pushed data\", holdValue);\n          });\n\n\n\n          // setInputList(data)\n          setCustomerList(holdValue);\n          console.log(\"Dataa to get map\", Feature);\n          console.log(\"Dataa to get map2\", Feature2);\n\n          setPossibleCombination(item.possible_combination);\n          setInputListFeature(Feature);\n          setInputListFeature2(Feature2);\n\n        });\n      });\n    fetch(\n      `https://parivartan.transganization.com/nodejs/masters/competionsheet/user/` + `${s_id}`,\n      requestOptions\n    )\n      .then((response) => response.json())\n      .then((resData) => {\n\n        setcompleteData(resData.data);\n        console.log(\"---resDAta--->\", resData.data[0]);\n        let MyValues1 = resData.data;\n\n        let MyValues = resData.data;\n        if (MyValues.length > 0) {\n          setedituser(true);\n          setUpid(resData.data[0].id);\n\n        }\n\n        MyValues.map((item, key) => {\n          console.log(\"before Eval\", item);\n          let Feature = eval(item.features);\n          let FeatureG = eval(item.features);\n\n          let Feature2 = eval(item.features2);\n\n          console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature);\n          console.log(\"SDfjdskjfn jsdhfkjsdfn22\", Feature2);\n\n          setCustomerList(Feature);\n          setInputList(Feature);\n          setInputListFinal(Feature)\n\n        });\n\n        console.log(\"Edit Values\", MyValues);\n\n\n\n\n        // MyValues1.map((i, key) => {\n        //   console.log(\"before Eval\", i.features);\n        //   let Feature2 = eval(i.features);\n\n        //   console.log(\"SDfjdskjfn jsdhfkjsdfn\", Feature2);\n\n        //   setCustomerList(Feature);\n        //   setInputList(Feature);\n        //   setInputListFinal(Feature)\n        //   setInputListFinal2(Feature2)\n\n        // });\n      });\n  }\n\n  const OnSubmitHandle = () => {\n    GetallRecords();\n    props.OnValidateStrategy(true);\n\n  }\n\n\n\n\n\n  const checkFinalize = (e) => {\n    console.log(e.target.value);\n    console.log(e.target.name);\n\n    let updValue = e.target.name;\n    let checked_value = `1`;\n    console.log(inputListFinal);\n\n    for (var i = 0; i < inputListFinal.length; i++) {\n      if (inputListFinal[i].competition === updValue) {\n        console.log(inputListFinal[i].is_display)\n        if (inputListFinal[i].is_display == 0) {\n          inputListFinal[i].is_display = 1;\n          // GetallRecords();\n\n        } else {\n          inputListFinal[i].is_display = 0;\n          // GetallRecords();\n\n        }\n        console.log(inputListFinal);\n\n\n        // break;\n      }\n    }\n    console.log(inputListFinal);\n    // GetallRecords();\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      features: inputListFinal,\n    });\n    var requestOptions = {\n      method: \"PUT\",\n      headers: myHeaders,\n      body: raw,\n      redirect: \"follow\",\n    };\n    fetch(\n      `https://parivartan.transganization.com/nodejs/masters/competionsheetCheck/${Upid}`,\n      requestOptions\n    )\n      .then((response) => response.json())\n      .then((resData) => {\n        console.log(resData);\n        if (resData.status == 200) {\n          GetallRecords()\n          // props.OnValidateStrategy(true);\n        }\n        GetallRecords();\n\n      })\n      .catch((error) => console.log(\"error\", error));\n\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <Modal\n        size=\"sm\"\n        show={Madd}\n        onHide={() => setMadd(false)}\n        aria-labelledby=\"example-modal-sizes-title-sm\"\n      >\n        <Modal.Body >Form Saved Successful</Modal.Body>\n      </Modal>\n\n      <Modal\n        size=\"sm\"\n        show={Mupdate}\n        onHide={() => setMupdate(false)}\n        aria-labelledby=\"example-modal-sizes-title-sm\"\n      >\n        <Modal.Body >Form Update Successful</Modal.Body>\n      </Modal>\n      {/* <div className=\"row clearfix \" style={{ backgroundColor: \"#F3F6F9\",width:\"100rem\",overflowX:\"auto\",whiteSpace:\"nowrap\" }}> */}\n      <div className=\"row clearfix \" style={{ backgroundColor: \"white\", width: \"80rem\", overflowX: \"auto\", backgroundColor: \"#F3F6F9\" }} >\n\n        <div className=\"col-lg-12 col-md-12 col-sm-12\" >\n          <div className=\"card p-4 mt-2\" >\n            {/* {!ShowHideErr ? (\n              <div style={{ margin: 5, text: \"red\" }}><b>Please Enter The Value Lessthan Or Equal To 9</b></div>\n            ) : (null)} */}\n            <div >\n\n              {inputListFeature && inputListFinal ? (\n                <div className=\"body p-5\">\n\n                  <div style={{ marginTop: 20 }}></div>\n\n                  <div className=\"row clearfix flex-nowrap\">\n                    {/* <div className=\"col-lg-6\">\n                      <div className=\"form-group\">\n                        <strong>Organization Name</strong>\n                      </div>\n                    </div> */}\n\n                    <div className=\"col-lg-6 ml-4\">\n                      <div className=\"form-group\">\n                        <strong>Select Organization</strong>\n                      </div>\n                      {/* {org_name} */}\n                    </div>\n\n                    <div className=\"col-md-2\" ></div>\n                  </div>\n\n                  {/* <div className=\"row clearfix flex-nowrap\">\n                    <div className=\"col-lg-6\">\n                      <div className=\"form-group\">\n                        <span>{org_name}</span>\n                       \n                      </div>\n                    </div>\n\n\n                    <div className=\"col-md-2\" ></div>\n                  </div> */}\n                  {console.log(\"The ------ffff\", inputListFinal)\n                  }\n\n                  {inputListFinal.map((x, i) => {\n                    return (\n                      <div className=\"row clearfix flex-nowrap\">\n                        {/* <div className=\"col-lg-6\">\n                          <div className=\"form-group\">\n                            <span>{x.competition}</span>\n\n                          </div>\n                        </div> */}\n                        <div className=\"col-lg-6 ml-4\">\n                          <div className=\"form-group\">\n                            {/* {console.log(x)} */}\n                            {/* {console.log(x.is_display == 0 ? x.is_display = 1 : x.is_display = 0)}\n                            <input type=\"checkbox\" class=\"form-check-input\" checked={(x.is_display == 0 ? x.is_display = 1 : x.is_display = 0)} value={(x.is_display == 0 ? false : true)} name={x.competition} id=\"exampleCheck1\" onChange={checkFinalize} /> */}\n                            {/* {console.log(x.is_display == 0 ? x.is_display = 1 : x.is_display = 0)}\n                            <input type=\"checkbox\" class=\"form-check-input\" checked={(x.is_display == 0 ? x.is_display = 1 : x.is_display = 0)} value={(x.is_display == 0 ? false : true)} name={x.competition} id=\"exampleCheck1\" onChange={checkFinalize} /> */}\n\n\n                          </div>\n\n                          <div class=\"input-group mb-3\">\n                            <div class=\"input-group-prepend\">\n                              <div class=\"input-group-text\">\n                                <input type=\"checkbox\" aria-label=\"Checkbox for following text input\" checked={(x.is_display == 0 ? x.is_display = 1 : x.is_display = 0)} value={(x.is_display == 0 ? false : true)} name={x.competition} onChange={checkFinalize} />\n                              </div>\n                            </div>\n                            <input type=\"text\" disabled=\"true\" class=\"form-control\" value={x.competition} aria-label=\"Text input with checkbox\" />\n                          </div>\n                        </div>\n\n                        <div className=\"col-lg-6 ml-4 mt-3\">\n                          <button type=\"button\" className={(x.is_display == 0 ? \"btn btn-outline-primary w-25\" : \"btn btn-primary w-25\")} name={x.competition} onClick={checkFinalize} >{x.competition}</button>\n                        </div>\n                      </div>\n                    );\n                  })}\n\n                  {/* <div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\n                    {inputListFinal.map((x, i) => {\n                      return (\n                        <>\n                          <label class=\"btn btn-secondary active\">\n                            <input type=\"radio\" name=\"options\" id=\"option1\" autocomplete=\"off\" checked={(x.is_display == 0 ? x.is_display = 1 : x.is_display = 0)} value={(x.is_display == 0 ? false : true)} name={x.competition} onChange={checkFinalize} /> Active\n                          </label>\n                          \n                        </>\n                      );\n                    })}\n                  </div> */}\n\n                  <div style={{ marginTop: 30 }}></div>\n                  <button\n                    type=\"submit\"\n                    class=\"btn savebtn waves-effect\"\n                    onClick={OnSubmitHandle}\n\n                  >\n                    SAVE <i className=\"ml-1 zmdi zmdi-save \" />\n                  </button>\n                </div>\n              ) : null}\n            </div>          </div>\n\n        </div>\n      </div>\n    </div>\n  );\n\n}\n"]},"metadata":{},"sourceType":"module"}