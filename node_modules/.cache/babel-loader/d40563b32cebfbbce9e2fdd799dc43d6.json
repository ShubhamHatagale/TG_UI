{"ast":null,"code":"import _slicedToArray from\"/home/shubham/Projects/Transgazination_Project/TG_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,forwardRef,useImperativeHandle,useState}from\"react\";import CircularProgress from\"@material-ui/core/CircularProgress\";import{makeStyles}from\"@material-ui/core/styles\";import Modal from\"react-bootstrap/Modal\";import Button from\"react-bootstrap/Button\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:\"flex\",\"& > * + *\":{marginLeft:theme.spacing(2)}}};});var Table=/*#__PURE__*/forwardRef(function(props,ref){var _useState=useState(\"Iamchild\"),_useState2=_slicedToArray(_useState,2),childName=_useState2[0],changeChildName=_useState2[1];var s_id=localStorage.getItem('tr_id');var history=useHistory();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setloading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),completeData=_useState6[0],setcompleteData=_useState6[1];var _useState7=useState(props.AllData),_useState8=_slicedToArray(_useState7,2),inner_id=_useState8[0],setinner_id=_useState8[1];// let inner_id = props.AllData;\nconsole.log(inner_id,\"innerId\");var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),editId=_useState10[0],seteditId=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),delId=_useState12[0],setdelId=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),vilakshanData=_useState14[0],setVilakshanData=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),show=_useState16[0],setShow=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),editModal=_useState18[0],seteditModal=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),sr_no=_useState20[0],setsr_no=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),step_decription=_useState22[0],setstep_decription=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),trasaction_time=_useState24[0],settrasaction_time=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),resource_allocated=_useState26[0],setresource_allocated=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),resource_name=_useState28[0],setresource_name=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),Mupdate=_useState30[0],setMupdate=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),Mdelete=_useState32[0],setMdelete=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),AddCheck=_useState34[0],setAddCheck=_useState34[1];useImperativeHandle(ref,function(){return{callChildFunction:function callChildFunction(pid,a){// alert(pid);\n// alert(a);\nsetAddCheck(a);// var myHeaders = new Headers();\n// myHeaders.append(\"Content-Type\", \"application/json\");\n// var raw = JSON.stringify({\n//   sr_no: 2,\n//   step_decription: 2,\n//   trasaction_time: 2,\n//   resource_allocated: 2,\n//   resource_name: 2,\n//   email_id: s_id,\n//   created_by: s_id\n// });\n// var requestOptions = {\n//   method: \"PUT\",\n//   headers: myHeaders,\n//   body: raw,\n//   redirect: \"follow\",\n// };\n// fetch(`https://parivartan.transganization.com/nodejs/masters/process/1`, requestOptions)\n//   .then((response) => response.json())\n//   .then((resData) => {\n//     console.log(resData);\n//     if (resData.status == 200) {\n//       console.log(\"updated\");\n//       setMupdate(true);\n//       // setMupdate(false);\n//       setTimeout(() => {\n//         setMupdate(false);\n//       }, 1000)\n//     }\n//     GetallRecored();\n//   })\n//   .catch((error) => console.log(\"error\", error));\n// props.callparentfunction()\n// setinner_id(\"\");\n// GetallRecored(pid, a);\n// GetallRecored();\n// window.location.reload(false);\n// editfn(1);\n// setTimeout(() => {\n//   alert(\"ok\")\n//   history.push(\"/processes\")\n//   // props.OnValidate(true);\nGetallRecored();// }, 1000)\n}};});var sr_noFn=function sr_noFn(event){setsr_no(event.target.value);};var step_decriptionFn=function step_decriptionFn(event){setstep_decription(event.target.value);};var trasaction_timeFn=function trasaction_timeFn(event){settrasaction_time(event.target.value);};var resource_allocatedFn=function resource_allocatedFn(event){setresource_allocated(event.target.value);};var resource_nameFn=function resource_nameFn(event){setresource_name(event.target.value);};var handleClose=function handleClose(){setShow(false);seteditModal(false);};var OnSubmitUpdate=function OnSubmitUpdate(edId){// alert(edId)\nvar myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({sr_no:sr_no,step_decription:step_decription,trasaction_time:trasaction_time,resource_allocated:resource_allocated,resource_name:resource_name,email_id:s_id,created_by:s_id});var requestOptions={method:\"PUT\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/process/\".concat(edId),requestOptions).then(function(response){return response.json();}).then(function(resData){console.log(resData);if(resData.status==200){console.log(\"updated\");setMupdate(true);// setMupdate(false);\nsetTimeout(function(){setMupdate(false);},1000);}GetallRecored();}).catch(function(error){return console.log(\"error\",error);});// console.log(formData);\nsetShow(false);seteditModal(false);// GetallRecored();\n};var deleteConfirm=function deleteConfirm(){// alert(delId);\nvar myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var requestOptionsget={method:\"delete\",headers:myHeaders,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/process/\".concat(delId),requestOptionsget).then(function(response){return response.json();}).then(function(resData){// seteditId(resData.data[0].id);\nconsole.log(\"deleted\");setShow(false);setMdelete(true);// setMdelete(false);\nsetTimeout(function(){setMdelete(false);},1000);setShow(false);GetallRecored();}).catch(function(error){return console.log(\"error\",error);});};var editfn=function editfn(edit_id){GetallRecored();seteditModal(true);var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var requestOptionsget={method:\"GET\",headers:myHeaders,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/processprocessId/\".concat(edit_id),requestOptionsget).then(function(response){return response.json();}).then(function(resData){console.log(resData.data[0].id);console.log(resData.data);seteditId(resData.data[0].id);setsr_no(resData.data[0].sr_no);setstep_decription(resData.data[0].step_decription);settrasaction_time(resData.data[0].trasaction_time);setresource_allocated(resData.data[0].resource_allocated);setresource_name(resData.data[0].resource_name);}).catch(function(error){return console.log(\"error\",error);});};var deletefn=function deletefn(edit_id){// alert(edit_id)\nsetdelId(edit_id);setShow(true);};// const OnValidateTab1 = (e) => {\n//   alert(\"hi shubh\");\n//   // setValue(1);\n//   // setvalidateTab1(e);\n// }\nvar GetallRecored=function GetallRecored(pid,a){// let inner_id=pid;\n// alert(\"hallo\" + inner_id);\n// if (a==\"upd\") {\n//   setinner_id('1');\n//   alert(\"hallob\" + inner_id);\n//   var myHeaders2 = new Headers();\n//   myHeaders2.append(\"Content-Type\", \"application/json\");\n//   var requestOptionsget = {\n//     method: \"GET\",\n//     headers: myHeaders2,\n//     redirect: \"follow\",\n//   };\n//   fetch(`https://parivartan.transganization.com/nodejs/masters/process/` + `${inner_id}`, requestOptionsget)\n//     .then((response) => response.json())\n//     .then((res) => {\n//       // console.log(res.data);\n//       setcompleteData(res.data);\n//       if (res.status == 200) {\n//         console.log(\"Data Added succesfully\");\n//       }\n//     })\n//     .catch((error) => console.log(\"error\", error));\n// }\n// alert(`${inner_id}`)\nvar myHeaders2=new Headers();myHeaders2.append(\"Content-Type\",\"application/json\");var requestOptionsget={method:\"GET\",headers:myHeaders2,redirect:\"follow\"};fetch(\"https://parivartan.transganization.com/nodejs/masters/process/user/\"+\"\".concat(s_id),requestOptionsget).then(function(response){return response.json();}).then(function(res){// console.log(res.data);\nsetcompleteData(res.data);if(res.status==200){console.log(\"Data Added succesfully\");}}).catch(function(error){return console.log(\"error\",error);});};useEffect(function(){if(!s_id){history.push(\"Not_support\");}// OnValidateTab1();\nGetallRecored();},[]);var rows=[];if(completeData){// {GetallRecored()}\nvar optionVal=completeData.filter(function(_ref){var parent_process_id=_ref.parent_process_id,created_by=_ref.created_by;return parent_process_id===\"test3\"&&created_by===1;});console.log(inner_id);console.log(s_id);console.log(optionVal);console.log(completeData);completeData.map(function(item,key){rows.push(/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.sr_no}),/*#__PURE__*/_jsx(\"td\",{children:item.step_decription}),/*#__PURE__*/_jsx(\"td\",{children:item.trasaction_time}),/*#__PURE__*/_jsx(\"td\",{children:item.resource_allocated}),/*#__PURE__*/_jsx(\"td\",{children:item.resource_name}),/*#__PURE__*/_jsx(\"td\",{colspan:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",title:\"edit\",class:\"btn  zmdi zmdi-edit waves-effect pull-left\",style:{float:\"left\"},onClick:function onClick(){return editfn(item.id);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",title:\"delete\",class:\"btn btn-danger zmdi zmdi-delete waves-effect\",onClick:function onClick(){return deletefn(item.id);}})]})})]}));});}return loading?/*#__PURE__*/_jsx(\"div\",{sytle:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(CircularProgress,{})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Mupdate,onHide:function onHide(){return setMupdate(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Update Successful\"})}),/*#__PURE__*/_jsx(Modal,{size:\"sm\",show:Mdelete,onHide:function onHide(){return setMdelete(false);},\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:/*#__PURE__*/_jsx(Modal.Body,{children:\"Form Row Deleted Successfully\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"table-responsive\",id:\"Table\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn waves-effect\",style:{marginLeft:\"88%\"},onClick:GetallRecored,children:\"Get Table Data \"})}),/*#__PURE__*/_jsxs(\"table\",{class:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Step Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Transaction Time (Days / Hours)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Resource Allocated (Departments)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name of Resources (Individuals)\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Action\"})]})}),rows]})]}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Are You Sure You Want To Delete!\"})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return setShow(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:deleteConfirm,children:\"Yes\"})]})]}),/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:editModal,onHide:handleClose,\"aria-labelledby\":\"example-modal-sizes-title-lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-lg\",children:\"Edit Step Process\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-inside-title\"}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sr.No \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Sr.No.\",name:\"sr_no\",onChange:sr_noFn,value:sr_no})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Step Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Step Description\",name:\"step_descreption\",onChange:step_decriptionFn,value:step_decription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transaction Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Transaction Time\",name:\"vilakshan_journey\",onChange:trasaction_timeFn,value:trasaction_time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Resource Allocated\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Resource Allocated (Departments)\",name:\"resource_allocated\",onChange:resource_allocatedFn,value:resource_allocated})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name of Resources\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Name of Resources (Individuals)\",name:\"resource_name\",onChange:resource_nameFn,value:resource_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn savebtn  waves-effect mt-4\",onClick:function onClick(){OnSubmitUpdate(editId);},children:\"Update\"})]})]})})})]})})]})]});});export default Table;","map":{"version":3,"sources":["/home/shubham/Projects/Transgazination_Project/TG_UI/src/pages/Parivartan09/StepTable.js"],"names":["React","useEffect","forwardRef","useImperativeHandle","useState","CircularProgress","makeStyles","Modal","Button","useHistory","useStyles","theme","root","display","marginLeft","spacing","Table","props","ref","childName","changeChildName","s_id","localStorage","getItem","history","loading","setloading","completeData","setcompleteData","AllData","inner_id","setinner_id","console","log","editId","seteditId","delId","setdelId","vilakshanData","setVilakshanData","show","setShow","editModal","seteditModal","sr_no","setsr_no","step_decription","setstep_decription","trasaction_time","settrasaction_time","resource_allocated","setresource_allocated","resource_name","setresource_name","Mupdate","setMupdate","Mdelete","setMdelete","AddCheck","setAddCheck","callChildFunction","pid","a","GetallRecored","sr_noFn","event","target","value","step_decriptionFn","trasaction_timeFn","resource_allocatedFn","resource_nameFn","handleClose","OnSubmitUpdate","edId","myHeaders","Headers","append","raw","JSON","stringify","email_id","created_by","requestOptions","method","headers","body","redirect","fetch","then","response","json","resData","status","setTimeout","catch","error","deleteConfirm","requestOptionsget","editfn","edit_id","data","id","deletefn","myHeaders2","res","push","rows","optionVal","filter","parent_process_id","map","item","key","float","justifyContent","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, forwardRef, useImperativeHandle, useState } from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Table = forwardRef((props, ref) => {\r\n\r\n\r\n\r\n  const [childName, changeChildName] = useState(\"Iamchild\")\r\n\r\n  var s_id = localStorage.getItem('tr_id')\r\n\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  let [completeData, setcompleteData] = useState(\"\");\r\n  let [inner_id, setinner_id] = useState(props.AllData);\r\n\r\n  // let inner_id = props.AllData;\r\n  console.log(inner_id, \"innerId\");\r\n  const [editId, seteditId] = useState(\"\");\r\n  const [delId, setdelId] = useState(\"\");\r\n  let [vilakshanData, setVilakshanData] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n  const [editModal, seteditModal] = useState(false);\r\n  const [sr_no, setsr_no] = useState();\r\n  const [step_decription, setstep_decription] = useState();\r\n  const [trasaction_time, settrasaction_time] = useState();\r\n  const [resource_allocated, setresource_allocated] = useState();\r\n  const [resource_name, setresource_name] = useState();\r\n  const [Mupdate, setMupdate] = useState(false);\r\n  const [Mdelete, setMdelete] = useState(false);\r\n  const [AddCheck, setAddCheck] = useState(\"\");\r\n\r\n\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    callChildFunction(pid, a) {\r\n      // alert(pid);\r\n      // alert(a);\r\n      setAddCheck(a);\r\n\r\n      // var myHeaders = new Headers();\r\n      // myHeaders.append(\"Content-Type\", \"application/json\");\r\n      // var raw = JSON.stringify({\r\n      //   sr_no: 2,\r\n      //   step_decription: 2,\r\n      //   trasaction_time: 2,\r\n      //   resource_allocated: 2,\r\n      //   resource_name: 2,\r\n      //   email_id: s_id,\r\n      //   created_by: s_id\r\n      // });\r\n      // var requestOptions = {\r\n      //   method: \"PUT\",\r\n      //   headers: myHeaders,\r\n      //   body: raw,\r\n      //   redirect: \"follow\",\r\n      // };\r\n      // fetch(`https://parivartan.transganization.com/nodejs/masters/process/1`, requestOptions)\r\n      //   .then((response) => response.json())\r\n      //   .then((resData) => {\r\n      //     console.log(resData);\r\n      //     if (resData.status == 200) {\r\n      //       console.log(\"updated\");\r\n      //       setMupdate(true);\r\n      //       // setMupdate(false);\r\n      //       setTimeout(() => {\r\n      //         setMupdate(false);\r\n      //       }, 1000)\r\n      //     }\r\n      //     GetallRecored();\r\n      //   })\r\n      //   .catch((error) => console.log(\"error\", error));\r\n\r\n      // props.callparentfunction()\r\n\r\n      // setinner_id(\"\");\r\n\r\n      // GetallRecored(pid, a);\r\n      // GetallRecored();\r\n      // window.location.reload(false);\r\n\r\n      // editfn(1);\r\n\r\n\r\n      // setTimeout(() => {\r\n      //   alert(\"ok\")\r\n      //   history.push(\"/processes\")\r\n      //   // props.OnValidate(true);\r\n      GetallRecored();\r\n\r\n      // }, 1000)\r\n\r\n    }\r\n  }))\r\n\r\n\r\n  const sr_noFn = (event) => {\r\n    setsr_no(event.target.value);\r\n  };\r\n\r\n  const step_decriptionFn = (event) => {\r\n    setstep_decription(event.target.value);\r\n  };\r\n\r\n  const trasaction_timeFn = (event) => {\r\n    settrasaction_time(event.target.value);\r\n  };\r\n\r\n  const resource_allocatedFn = (event) => {\r\n    setresource_allocated(event.target.value);\r\n  };\r\n\r\n  const resource_nameFn = (event) => {\r\n    setresource_name(event.target.value);\r\n  };\r\n\r\n\r\n\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    seteditModal(false);\r\n  };\r\n\r\n  const OnSubmitUpdate = (edId) => {\r\n    // alert(edId)\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var raw = JSON.stringify({\r\n      sr_no: sr_no,\r\n      step_decription: step_decription,\r\n      trasaction_time: trasaction_time,\r\n      resource_allocated: resource_allocated,\r\n      resource_name: resource_name,\r\n      email_id: s_id,\r\n      created_by: s_id\r\n    });\r\n    var requestOptions = {\r\n      method: \"PUT\",\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: \"follow\",\r\n    };\r\n    fetch(`https://parivartan.transganization.com/nodejs/masters/process/${edId}`, requestOptions)\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        console.log(resData);\r\n        if (resData.status == 200) {\r\n          console.log(\"updated\");\r\n          setMupdate(true);\r\n          // setMupdate(false);\r\n          setTimeout(() => {\r\n            setMupdate(false);\r\n          }, 1000)\r\n        }\r\n        GetallRecored();\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n    // console.log(formData);\r\n    setShow(false);\r\n    seteditModal(false);\r\n    // GetallRecored();\r\n  };\r\n\r\n  const deleteConfirm = () => {\r\n    // alert(delId);\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var requestOptionsget = {\r\n      method: \"delete\",\r\n      headers: myHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n    fetch(\r\n      `https://parivartan.transganization.com/nodejs/masters/process/${delId}`,\r\n      requestOptionsget\r\n    )\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        // seteditId(resData.data[0].id);\r\n        console.log(\"deleted\");\r\n        setShow(false);\r\n        setMdelete(true);\r\n        // setMdelete(false);\r\n        setTimeout(() => {\r\n          setMdelete(false);\r\n        }, 1000)\r\n        setShow(false);\r\n        GetallRecored();\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n\r\n\r\n  const editfn = (edit_id) => {\r\n    GetallRecored();\r\n\r\n    seteditModal(true);\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var requestOptionsget = {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n    fetch(\r\n      `https://parivartan.transganization.com/nodejs/masters/processprocessId/${edit_id}`,\r\n      requestOptionsget\r\n    )\r\n      .then((response) => response.json())\r\n      .then((resData) => {\r\n        console.log(resData.data[0].id);\r\n        console.log(resData.data);\r\n        seteditId(resData.data[0].id);\r\n        setsr_no(resData.data[0].sr_no);\r\n        setstep_decription(resData.data[0].step_decription);\r\n        settrasaction_time(resData.data[0].trasaction_time);\r\n        setresource_allocated(resData.data[0].resource_allocated);\r\n        setresource_name(resData.data[0].resource_name);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n\r\n  const deletefn = (edit_id) => {\r\n    // alert(edit_id)\r\n    setdelId(edit_id);\r\n    setShow(true);\r\n  };\r\n\r\n\r\n  // const OnValidateTab1 = (e) => {\r\n  //   alert(\"hi shubh\");\r\n\r\n  //   // setValue(1);\r\n  //   // setvalidateTab1(e);\r\n  // }\r\n\r\n  const GetallRecored = (pid, a) => {\r\n    // let inner_id=pid;\r\n    // alert(\"hallo\" + inner_id);\r\n    // if (a==\"upd\") {\r\n    //   setinner_id('1');\r\n    //   alert(\"hallob\" + inner_id);\r\n\r\n    //   var myHeaders2 = new Headers();\r\n    //   myHeaders2.append(\"Content-Type\", \"application/json\");\r\n    //   var requestOptionsget = {\r\n    //     method: \"GET\",\r\n    //     headers: myHeaders2,\r\n    //     redirect: \"follow\",\r\n    //   };\r\n    //   fetch(`https://parivartan.transganization.com/nodejs/masters/process/` + `${inner_id}`, requestOptionsget)\r\n    //     .then((response) => response.json())\r\n    //     .then((res) => {\r\n    //       // console.log(res.data);\r\n    //       setcompleteData(res.data);\r\n    //       if (res.status == 200) {\r\n    //         console.log(\"Data Added succesfully\");\r\n\r\n    //       }\r\n    //     })\r\n    //     .catch((error) => console.log(\"error\", error));\r\n    // }\r\n    // alert(`${inner_id}`)\r\n    var myHeaders2 = new Headers();\r\n    myHeaders2.append(\"Content-Type\", \"application/json\");\r\n    var requestOptionsget = {\r\n      method: \"GET\",\r\n      headers: myHeaders2,\r\n      redirect: \"follow\",\r\n    };\r\n    fetch(`https://parivartan.transganization.com/nodejs/masters/process/user/` + `${s_id}`, requestOptionsget)\r\n      .then((response) => response.json())\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        setcompleteData(res.data);\r\n        if (res.status == 200) {\r\n          console.log(\"Data Added succesfully\");\r\n\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (!s_id) {\r\n      history.push(\"Not_support\");\r\n    }\r\n    // OnValidateTab1();\r\n    GetallRecored();\r\n  }, []);\r\n\r\n  let rows = [];\r\n  if (completeData) {\r\n\r\n    // {GetallRecored()}\r\n    var optionVal = completeData.filter(({ parent_process_id, created_by }) => parent_process_id === \"test3\" && created_by === 1 )\r\n    console.log(inner_id);\r\n    console.log(s_id);\r\n\r\n    console.log(optionVal);\r\n    console.log(completeData);\r\n\r\n    completeData.map((item, key) => {\r\n      rows.push(\r\n\r\n        <tbody>\r\n          <td>{item.sr_no}</td>\r\n          <td>{item.step_decription}</td>\r\n          <td>{item.trasaction_time}</td>\r\n          <td>{item.resource_allocated}</td>\r\n          <td>{item.resource_name}</td>\r\n          <td colspan=\"8\">\r\n            <div class=\"btn-group\">\r\n              <button\r\n                type=\"submit\"\r\n                title=\"edit\"\r\n                class=\"btn  zmdi zmdi-edit waves-effect pull-left\"\r\n                style={{ float: \"left\" }}\r\n                onClick={() => editfn(item.id)}\r\n              ></button>\r\n              <button\r\n                type=\"submit\"\r\n                title=\"delete\"\r\n                class=\"btn btn-danger zmdi zmdi-delete waves-effect\"\r\n                onClick={() => deletefn(item.id)}\r\n              ></button>\r\n            </div>\r\n          </td>\r\n        </tbody>\r\n      );\r\n    });\r\n  }\r\n\r\n  return loading ? (\r\n    <div sytle={{ display: \"flex\", justifyContent: \"center\" }}>\r\n      <CircularProgress />\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <Modal\r\n        size=\"sm\"\r\n        show={Mupdate}\r\n        onHide={() => setMupdate(false)}\r\n        aria-labelledby=\"example-modal-sizes-title-sm\"\r\n      >\r\n        <Modal.Body >Form Update Successful</Modal.Body>\r\n      </Modal>\r\n\r\n      <Modal\r\n        size=\"sm\"\r\n        show={Mdelete}\r\n        onHide={() => setMdelete(false)}\r\n        aria-labelledby=\"example-modal-sizes-title-sm\"\r\n      >\r\n        <Modal.Body >Form Row Deleted Successfully</Modal.Body>\r\n      </Modal>\r\n\r\n      <div class=\"table-responsive\" id=\"Table\">\r\n        <div class=\"col-12\" >\r\n          <button type=\"button\" class=\"btn waves-effect\" style={{ marginLeft: \"88%\" }} onClick={GetallRecored}>Get Table Data </button>\r\n        </div>\r\n        {/* {setTimeout(()=>{\r\n          alert(\"hallo\")\r\n        }),5000} */}\r\n        {/* <button type=\"button\" class=\"btn downloadbtn waves-effect\" onClick={GetallRecored}>Get Data   <i class=\"ml-1 zmdi zmdi-cloud-download\"></i></button> */}\r\n\r\n        <table class=\"table table-bordered\">\r\n          <thead>\r\n            {/* Child Component {childName} */}\r\n\r\n            <tr>\r\n              <th>Sr. No.</th>\r\n              <th>Step Description</th>\r\n              <th>Transaction Time (Days / Hours)</th>\r\n              <th>Resource Allocated (Departments)</th>\r\n              <th>Name of Resources (Individuals)</th>\r\n              <th style={{ textAlign: \"center\" }}>Action</th>\r\n            </tr>\r\n          </thead>\r\n          {rows}\r\n        </table>\r\n      </div>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Are You Sure You Want To Delete!</Modal.Title>\r\n        </Modal.Header>\r\n        {/* <Modal.Body>Are You Sure You Want To Delete!</Modal.Body> */}\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={deleteConfirm}>\r\n            Yes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      {/* For Edit */}\r\n      <Modal\r\n        size=\"lg\"\r\n        show={editModal}\r\n        onHide={handleClose}\r\n        aria-labelledby=\"example-modal-sizes-title-lg\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n            Edit Step Process\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div class=\"card\" >\r\n            <h2 className=\"card-inside-title\">\r\n              {/* <strong>Process Name : </strong> */}\r\n            </h2>\r\n            <div class=\"card-body\">\r\n              <div className=\"form-group\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-2\">\r\n                    <label>Sr.No &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Sr.No.\"\r\n                      name=\"sr_no\"\r\n                      onChange={sr_noFn}\r\n                      value={sr_no}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                    <label>Step Description</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Step Description\"\r\n                      name=\"step_descreption\"\r\n                      onChange={step_decriptionFn}\r\n                      value={step_decription}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                    <label>Transaction Time</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Transaction Time\"\r\n                      name=\"vilakshan_journey\"\r\n                      onChange={trasaction_timeFn}\r\n                      value={trasaction_time}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                    <label>Resource Allocated</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Resource Allocated (Departments)\"\r\n                      name=\"resource_allocated\"\r\n                      onChange={resource_allocatedFn}\r\n                      value={resource_allocated}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                    <label>Name of Resources</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Name of Resources (Individuals)\"\r\n                      name=\"resource_name\"\r\n                      onChange={resource_nameFn}\r\n                      value={resource_name}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                    <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn savebtn  waves-effect mt-4\"\r\n                      onClick={() => {\r\n                        OnSubmitUpdate(editId);\r\n                      }}\r\n                    >\r\n                      Update\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n})\r\nexport default Table;\r\n"]},"metadata":{},"sourceType":"module"}